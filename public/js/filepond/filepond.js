/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
*/ !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,t(e.FilePond={}))}(this,function(e){"use strict";var t,n,r,i,o,a=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},t),o=[],a=[],u=function e(){return Object.assign({},i)},s=function e(){var t=[].concat(o);return o.length=0,t},l=function e(){var t=[].concat(a);a.length=0,t.forEach(function(e){var t;c(e.type,e.data)})},c=function e(t,n,r){if(r&&!document.hidden){a.push({type:t,data:n});return}p[t]&&p[t](n),o.push({type:t,data:n})},f=function e(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return d[t]?(n=d)[t].apply(n,i):null},d={};n.forEach(function(e){d=Object.assign({},e(i),{},d)});var p={};return r.forEach(function(e){p=Object.assign({},e(c,f,i),{},p)}),{getState:u,processActionQueue:s,processDispatchQueue:l,dispatch:c,query:f}},u=function e(t,n,r){if("function"==typeof r){t[n]=r;return}Object.defineProperty(t,n,Object.assign({},r))},s=function e(t,n){for(var r in t)t.hasOwnProperty(r)&&n(r,t[r])},l=function e(t){var n={};return s(t,function(e){u(n,e,t[e])}),n},c=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===r)return t.getAttribute(n)||t.hasAttribute(n);t.setAttribute(n,r)},f=["svg","path"],d=function e(t){return f.includes(t)},p=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof n&&(r=n,n=null);var i=d(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n&&(d(t)?c(i,"class",n):i.className=n),s(r,function(e,t){c(i,e,t)}),i},E="undefined"!=typeof window&&void 0!==window.document,h=function e(){return E},T="children"in(h()?p("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},I=function e(t,n,r,i){var o=r[0]||t.left,a=r[1]||t.top,u=o+t.width,s=a+t.height*(i[1]||1),l={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:o,top:a,right:u,bottom:s}};return n.filter(function(e){return!e.isRectIgnored()}).map(function(e){return e.rect}).forEach(function(e){m(l.inner,Object.assign({},e.inner)),m(l.outer,Object.assign({},e.outer))}),g(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,g(l.outer),l},m=function e(t,n){n.top+=t.top,n.right+=t.left,n.bottom+=t.top,n.left+=t.left,n.bottom>t.bottom&&(t.bottom=n.bottom),n.right>t.right&&(t.right=n.right)},g=function e(t){t.width=t.right-t.left,t.height=t.bottom-t.top},$=function e(t){return"number"==typeof t},R=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(t-n)<i&&Math.abs(r)<i},y=function e(t){return t<.5?2*t*t:-1+(4-2*t)*t},O={spring:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.stiffness,r=void 0===n?.5:n,i=t.damping,o=void 0===i?.75:i,a=t.mass,u=void 0===a?10:a,s=null,c=null,f=0,d=!1,p=l({interpolate:function e(t,n){if(!d){if(!($(s)&&$(c))){d=!0,f=0;return}f+=-(c-s)*r/u,R(c+=f,s,f*=o)||n?(c=s,f=0,d=!0,p.onupdate(c),p.oncomplete(c)):p.onupdate(c)}},target:{set:function e(t){if($(t)&&!$(c)&&(c=t),null===s&&(s=t,c=t),c===(s=t)||void 0===s){d=!0,f=0,p.onupdate(c),p.oncomplete(c);return}d=!1},get:function e(){return s}},resting:{get:function e(){return d}},onupdate:function e(t){},oncomplete:function e(t){}});return p},tween:function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.duration,o=void 0===i?500:i,a=r.easing,u=void 0===a?y:a,s=r.delay,c=void 0===s?0:s,f=null,d=!0,p=!1,E=null,h=l({interpolate:function e(r,i){!d&&null!==E&&(null===f&&(f=r),r-f<c||((t=r-f-c)>=o||i?(t=1,n=p?0:1,h.onupdate(n*E),h.oncomplete(n*E),d=!0):(n=t/o,h.onupdate((t>=0?u(p?1-n:n):0)*E))))},target:{get:function e(){return p?0:E},set:function e(t){if(null===E){E=t,h.onupdate(t),h.oncomplete(t);return}t<E?(E=1,p=!0):(p=!1,E=t),d=!1,f=null}},resting:{get:function e(){return d}},onupdate:function e(t){},oncomplete:function e(t){}});return h}},D=function e(t,n,r){var i=t[n]&&"object"==typeof t[n][r]?t[n][r]:t[n]||t,o="string"==typeof i?i:i.type,a="object"==typeof i?Object.assign({},i):{};return O[o]?O[o](a):null},S=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(n=Array.isArray(n)?n:[n]).forEach(function(e){t.forEach(function(t){var n=t,o=function e(){return r[t]},a=function e(n){return r[t]=n};"object"==typeof t&&(n=t.key,o=t.getter||o,a=t.setter||a),(!e[n]||i)&&(e[n]={get:o,set:a})})})},P=function e(t){return null!=t},A={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},L=function e(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!0;for(var r in n)if(n[r]!==t[r])return!0;return!1},b=function e(t,n){var r=n.opacity,i=n.perspective,o=n.translateX,a=n.translateY,u=n.scaleX,s=n.scaleY,l=n.rotateX,c=n.rotateY,f=n.rotateZ,d=n.originX,p=n.originY,E=n.width,h=n.height,T="",I="";(P(d)||P(p))&&(I+="transform-origin: "+(d||0)+"px "+(p||0)+"px;"),P(i)&&(T+="perspective("+i+"px) "),(P(o)||P(a))&&(T+="translate3d("+(o||0)+"px, "+(a||0)+"px, 0) "),(P(u)||P(s))&&(T+="scale3d("+(P(u)?u:1)+", "+(P(s)?s:1)+", 1) "),P(f)&&(T+="rotateZ("+f+"rad) "),P(l)&&(T+="rotateX("+l+"rad) "),P(c)&&(T+="rotateY("+c+"rad) "),T.length&&(I+="transform:"+T+";"),P(r)&&(I+="opacity:"+r+";",0===r&&(I+="visibility:hidden;"),r<1&&(I+="pointer-events:none;")),P(h)&&(I+="height:"+h+"px;"),P(E)&&(I+="width:"+E+"px;");var m=t.elementCurrentStyle||"";(I.length!==m.length||I!==m)&&(t.style.cssText=I,t.elementCurrentStyle=I)},_={styles:function e(t){var n=t.mixinConfig,r=t.viewProps,i=t.viewInternalAPI,o=t.viewExternalAPI,a=t.view,u=Object.assign({},r),s={};S(n,[i,o],r);var l=function e(){return a.rect?I(a.rect,a.childViews,[r.translateX||0,r.translateY||0],[r.scaleX||0,r.scaleY||0]):null};return i.rect={get:l},o.rect={get:l},n.forEach(function(e){r[e]=void 0===u[e]?A[e]:u[e]}),{write:function e(){if(L(s,r))return b(a.element,r),Object.assign(s,Object.assign({},r)),!0},destroy:function e(){}}},listeners:function e(t){t.mixinConfig,t.viewProps,t.viewInternalAPI;var n,r,i=t.viewExternalAPI,o=(t.viewState,t.view),a=[],u=(n=o.element,function(e,t){n.addEventListener(e,t)}),s=(r=o.element,function(e,t){r.removeEventListener(e,t)});return i.on=function(e,t){a.push({type:e,fn:t}),u(e,t)},i.off=function(e,t){a.splice(a.findIndex(function(n){return n.type===e&&n.fn===t}),1),s(e,t)},{write:function e(){return!0},destroy:function e(){a.forEach(function(e){s(e.type,e.fn)})}}},animations:function e(t){var n=t.mixinConfig,r=t.viewProps,i=t.viewInternalAPI,o=t.viewExternalAPI,a=Object.assign({},r),e=[];return s(n,function(t,n){var u=D(n);u&&(u.onupdate=function(e){r[t]=e},u.target=a[t],S([{key:t,setter:function e(t){u.target!==t&&(u.target=t)},getter:function e(){return r[t]}}],[i,o],r,!0),e.push(u))}),{write:function t(n){var r=document.hidden,i=!0;return e.forEach(function(e){e.resting||(i=!1),e.interpolate(n,r)}),i},destroy:function e(){}}},apis:function e(t){var n=t.mixinConfig,r=t.viewProps;S(n,t.viewExternalAPI,r)}},w=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.layoutCalculated||(t.paddingTop=parseInt(r.paddingTop,10)||0,t.marginTop=parseInt(r.marginTop,10)||0,t.marginRight=parseInt(r.marginRight,10)||0,t.marginBottom=parseInt(r.marginBottom,10)||0,t.marginLeft=parseInt(r.marginLeft,10)||0,n.layoutCalculated=!0),t.left=n.offsetLeft||0,t.top=n.offsetTop||0,t.width=n.offsetWidth||0,t.height=n.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=n.scrollTop,t.hidden=null===n.offsetParent,t},C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tag,r=void 0===n?"div":n,i=t.name,o=void 0===i?null:i,a=t.attributes,u=void 0===a?{}:a,s=t.read,c=void 0===s?function(){}:s,f=t.write,d=void 0===f?function(){}:f,E=t.create,h=void 0===E?function(){}:E,m=t.destroy,g=void 0===m?function(){}:m,$=t.filterFrameActionsForChild,R=void 0===$?function(e,t){return t}:$,y=t.didCreateView,O=void 0===y?function(){}:y,D=t.didWriteView,S=void 0===D?function(){}:D,P=t.ignoreRect,A=void 0!==P&&P,L=t.ignoreRectUpdate,b=void 0!==L&&L,C=t.mixins,M=void 0===C?[]:C;return function(e){var t,n,i,a,s,f,E,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=p(r,"filepond--"+o,u),y=window.getComputedStyle($,null),D=w(),P=null,L=!1,C=[],N=[],G={},U={},B=[d],x=[c],F=[g],q=function e(){return $},V=function e(){return C.concat()},k=function e(){return P||(P=I(D,C,[0,0],[1,1]))},Y=function e(){P=null,C.forEach(function(e){return e._read()}),b&&D.width&&D.height||w(D,$,y);var t={root:Z,props:m,rect:D};x.forEach(function(e){return e(t)})},z=function e(t,n,r){var i=0===n.length;return B.forEach(function(e){!1===e({props:m,root:Z,actions:n,timestamp:t,shouldOptimize:r})&&(i=!1)}),N.forEach(function(e){!1===e.write(t)&&(i=!1)}),C.filter(function(e){return!!e.element.parentNode}).forEach(function(e){e._write(t,R(e,n),r)||(i=!1)}),C.forEach(function(e,o){!e.element.parentNode&&(Z.appendChild(e.element,o),e._read(),e._write(t,R(e,n),r),i=!1)}),L=i,S({props:m,root:Z,actions:n,timestamp:t}),i},H=function e(){N.forEach(function(e){return e.destroy()}),F.forEach(function(e){e({root:Z,props:m})}),C.forEach(function(e){return e._destroy()})},W={element:{get:q},style:{get:function e(){return y}},childViews:{get:V}},X=Object.assign({},W,{rect:{get:k},ref:{get:function e(){return G}},is:function e(t){return o===t},appendChild:(t=$,function(e,n){void 0!==n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)}),createChildView:(n=e,function(e,t){return e(n,t)}),linkView:function e(t){return C.push(t),t},unlinkView:function e(t){C.splice(C.indexOf(t),1)},appendChildView:(a=C,function(e,t){return void 0!==t?a.splice(t,0,e):a.push(e),e}),removeChildView:(s=$,f=C,function(e){return f.splice(f.indexOf(e),1),e.element.parentNode&&s.removeChild(e.element),e}),registerWriter:function e(t){return B.push(t)},registerReader:function e(t){return x.push(t)},registerDestroyer:function e(t){return F.push(t)},invalidateLayout:function e(){return $.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),Q={element:{get:q},childViews:{get:V},rect:{get:k},resting:{get:function e(){return L}},isRectIgnored:function e(){return A},_read:Y,_write:z,_destroy:H},j=Object.assign({},W,{rect:{get:function e(){return D}}});Object.keys(M).sort(function(e,t){return"styles"===e?1:"styles"===t?-1:0}).forEach(function(e){var t=_[e]({mixinConfig:M[e],viewProps:m,viewState:U,viewInternalAPI:X,viewExternalAPI:Q,view:l(j)});t&&N.push(t)});var Z=l(X);h({root:Z,props:m});var K=T($);return C.forEach(function(e,t){Z.appendChild(e.element,K+t)}),O(Z),l(Q)}},M=function e(t,n){return function(e){var r=e.root,i=e.props,o=e.actions,a=void 0===o?[]:o,u=e.timestamp,s=e.shouldOptimize;a.filter(function(e){return t[e.type]}).forEach(function(e){return t[e.type]({root:r,props:i,action:e.data,timestamp:u,shouldOptimize:s})}),n&&n({root:r,props:i,actions:a,timestamp:u,shouldOptimize:s})}},N=function e(t,n){return n.parentNode.insertBefore(t,n)},G=function e(t,n){return n.parentNode.insertBefore(t,n.nextSibling)},U=function e(t){return Array.isArray(t)},B=function e(t){return null==t},x=function e(t){return t.trim()},F=function e(t){return""+t},q=function e(t){return"boolean"==typeof t},V=function e(t){return q(t)?t:"true"===t},k=function e(t){return"string"==typeof t},Y=function e(t){return $(t)?t:k(t)?F(t).replace(/[a-z]+/gi,""):0},z=function e(t){return parseInt(Y(t),10)},H=function e(t){return parseFloat(Y(t))},W=function e(t){return $(t)&&isFinite(t)&&Math.floor(t)===t},X=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(W(t))return t;var r=F(t).trim();return/MB$/i.test(r)?z(r=r.replace(/MB$i/,"").trim())*n*n:/KB/i.test(r)?z(r=r.replace(/KB$i/,"").trim())*n:z(r)},Q=function e(t){return"function"==typeof t},j=function e(t){for(var n=self,r=t.split("."),i=null;i=r.shift();)if(!(n=n[i]))return null;return n},Z={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},K=function e(t){var n={};return n.url=k(t)?t:t.url||"",n.timeout=t.timeout?parseInt(t.timeout,10):0,n.headers=t.headers?t.headers:{},s(Z,function(e){n[e]=J(e,t[e],Z[e],n.timeout,n.headers)}),n.process=t.process||k(t)||t.url?n.process:null,n.remove=t.remove||null,delete n.headers,n},J=function e(t,n,r,i,o){if(null===n)return null;if("function"==typeof n)return n;var a={url:"GET"===r||"PATCH"===r?"?"+t+"=":"",method:r,headers:o,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(k(n))return a.url=n,a;if(Object.assign(a,n),k(a.headers)){var u=a.headers.split(/:(.+)/);a.headers={header:u[0],value:u[1]}}return a.withCredentials=V(a.withCredentials),a},ee=function e(t){return"object"==typeof t&&null!==t},et=function e(t){var n,r;return U(t)?"array":null===(n=t)?"null":W(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":ee(r=t)&&k(r.url)&&ee(r.process)&&ee(r.revert)&&ee(r.restore)&&ee(r.fetch)?"api":typeof t},en={array:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return B(t)?[]:U(t)?t:F(t).split(n).map(x).filter(function(e){return e.length})},boolean:V,int:function e(t){return"bytes"===et(t)?X(t):z(t)},number:H,float:H,bytes:X,string:function e(t){return Q(t)?t:F(t)},function:function e(t){return j(t)},serverapi:function e(t){return K(t)},object:function e(t){try{var n;return JSON.parse((n=t).replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(r){return null}}},er=function e(t,n,r){if(t===n)return t;var i=et(t);if(i!==r){var o,a,u=(o=t,en[a=r](o));if(i=et(u),null===u)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+r+'"';t=u}return t},ei=function e(t,n){var r=t;return{enumerable:!0,get:function e(){return r},set:function e(i){r=er(i,t,n)}}},eo=function e(t){var n={};return s(t,function(e){var r=t[e];n[e]=ei(r[0],r[1])}),l(n)},ea=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()}).join(n)},eu=function e(t,n){var r={};return s(n,function(e){r[e]={get:function n(){return t.getState().options[e]},set:function n(r){t.dispatch("SET_"+ea(e,"_").toUpperCase(),{value:r})}}}),r},es={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},el=function e(){return Math.random().toString(36).substring(2,11)};function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,n,r,i){t||(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={children:void 0}),n&&o)for(var u in o)void 0===n[u]&&(n[u]=o[u]);else n||(n=o||{});if(1===a)n.children=i;else if(a>1){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+3];n.children=s}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}function ed(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator])||Symbol.iterator&&null!=(t=e[Symbol.iterator])))return t.call(e);throw TypeError("Object is not async iterable")}function ep(e){this.wrapped=e}function eE(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof ep;Promise.resolve(u?a.wrapped:a).then(function(e){if(u){r("next",e);return}i(o.done?"return":"normal",e)},function(e){r("throw",e)})}catch(s){i("throw",s)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function e(i,o){return new Promise(function(e,a){var u={key:i,arg:o,resolve:e,reject:a,next:null};n?n=n.next=u:(t=n=u,r(i,o))})},"function"!=typeof e.return&&(this.return=void 0)}function e8(e){return function(){return new eE(e.apply(this,arguments))}}function ev(e){return new ep(e)}function eh(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise(function(t){t(e[n](i))}),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return i("return",e)}),n}function eT(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(l){n(l);return}u.done?t(s):Promise.resolve(s).then(r,i)}function eI(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){eT(o,r,i,a,u,"next",e)}function u(e){eT(o,r,i,a,u,"throw",e)}a(void 0)})}}function em(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e$(e,t,n){return t&&eg(e.prototype,t),n&&eg(e,n),e}function eR(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),o=0;o<i.length;o++){var a=i[o],r=t[a];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a,r)}return e}function ey(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function eO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eD(){return(eD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eO(e,t,n[t])})}return e}function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eP(n,!0).forEach(function(t){eO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function eb(e){return(eb=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function e_(e,t){return(e_=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ew(e,t,n){return(ew=!function e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?function e(t,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(t,i));return r&&e_(o,r.prototype),o}:Reflect.construct).apply(null,arguments)}function eC(e){var t="function"==typeof Map?new Map:void 0;return(eC=function e(n){var r;if(null===n||(r=n,-1===Function.toString.call(r).indexOf("[native code]")))return n;if("function"!=typeof n)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return ew(n,arguments,eb(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e_(i,n)})(e)}function eM(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function eN(e){return e&&e.__esModule?e:{default:e}}function eG(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}}return t.default=e,t}function eU(e,t){if(e!==t)throw TypeError("Cannot instantiate an arrow function")}function eB(e){if(null==e)throw TypeError("Cannot destructure undefined")}function ex(e,t){return t&&("object"==typeof t||"function"==typeof t)?t:function e(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}function eF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eb(e)););return e}function eq(e,t,n){return(eq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var i=eF(t,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(r):o.value}})(e,t,n||e)}function eV(e,t,n,r){return(eV="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function e(t,n,r,i){var o,a=eF(t,n);if(a){if((o=Object.getOwnPropertyDescriptor(a,n)).set)return o.set.call(i,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(i,n)){if(!o.writable)return!1;o.value=r,Object.defineProperty(i,n,o)}else eO(i,n,r);return!0})(e,t,n,r)}function ek(e,t,n,r,i){if(!eV(e,t,n,r||e)&&i)throw Error("failed to set property");return n}function e0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function eY(e,t){return t||(t=e.slice(0)),e.raw=t,e}function ez(e,t){if(e!==eW)return e;throw ReferenceError(t+" is not defined - temporal dead zone")}function e1(e){throw Error('"'+e+'" is read-only')}function eH(e){throw Error('Class "'+e+'" cannot be referenced in computed property keys.')}"function"==typeof Symbol&&Symbol.asyncIterator&&(eE.prototype[Symbol.asyncIterator]=function(){return this}),eE.prototype.next=function(e){return this._invoke("next",e)},eE.prototype.throw=function(e){return this._invoke("throw",e)},eE.prototype.return=function(e){return this._invoke("return",e)};var eW={};function eX(e,t){return e7(e)||function e(t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done)&&(r.push(u.value),!n||r.length!==n);i=!0);}catch(l){o=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||eQ()}function e3(e,t){return e7(e)||function e(t,n){for(var r,i=[],o=t[Symbol.iterator]();!(r=o.next()).done&&(i.push(r.value),!n||i.length!==n););return i}(e,t)||eQ()}function e2(e){return function e(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(e)||e4(e)||function e(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function e7(e){if(Array.isArray(e))return e}function e4(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function eQ(){throw TypeError("Invalid attempt to destructure non-iterable instance")}function e5(e){return function(){var t=e.apply(this,arguments);return t.next(),t}}function ej(e){var t=function e(t,n){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(e,"string");return"symbol"==typeof t?t:String(t)}function e6(e,t){throw Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}function eZ(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function e9(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var eK=0;function eJ(e){return"__private_"+eK+++"_"+e}function te(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}function tt(e,t){var n=t.get(e);if(!n)throw TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function tn(e,t,n){var r=t.get(e);if(!r)throw TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw TypeError("attempted to set read only private field");r.value=n}return n}function tr(e,t){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");var n=t.get(e);if(n.set)return"__destrObj"in n||(n.__destrObj={set value(v){n.set.call(e,v)}}),n.__destrObj;if(!n.writable)throw TypeError("attempted to set read only private field");return n}function ti(e,t,n){if(e!==t)throw TypeError("Private static access of wrong provenance");return n.value}function to(e,t,n,r){if(e!==t)throw TypeError("Private static access of wrong provenance");if(!n.writable)throw TypeError("attempted to set read only private field");return n.value=r,r}function ta(e,t,n){if(e!==t)throw TypeError("Private static access of wrong provenance");return n}function tu(){throw TypeError("attempted to set read only static private field")}function ts(e,t,n,r){var i=tl();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t(function e(t){i.initializeInstanceElements(t,u.elements)},n),u=i.decorateClass(function e(t){for(var n=[],r=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},i=0;i<t.length;i++){var o,a=t[i];if("method"===a.kind&&(o=n.find(r))){if(tp(a.descriptor)||tp(o.descriptor)){if(td(a)||td(o))throw ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");o.descriptor=a.descriptor}else{if(td(a)){if(td(o))throw ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");o.decorators=a.decorators}tf(a,o)}}else n.push(a)}return n}(a.d.map(tc)),e);return i.initializeClassElements(a.F,u.elements),i.runClassFinishers(a.F,u.finishers)}function tl(){tl=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach(function(n){t.forEach(function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach(function(r){t.forEach(function(t){var i=t.placement;t.kind===r&&("static"===i||"prototype"===i)&&this.defineClassElement("static"===i?e:n,t)},this)},this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,i)},this),e.forEach(function(e){if(!td(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)},this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var u=this.fromElementDescriptor(e),s=this.toElementFinisherExtras((0,i[o])(u)||u);e=s.element,this.addElementPlacement(e,t),s.finisher&&r.push(s.finisher);var l=s.extras;if(l){for(var c=0;c<l.length;c++)this.addElementPlacement(l[c],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var u=a+1;u<e.length;u++)if(e[a].key===e[u].key&&e[a].placement===e[u].placement)throw TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e){var t;return(e7(t=e)||e4(t)||eQ()).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t},this)}},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=ej(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e),n=tE(e,"finisher");return{element:t,finisher:n,extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=tE(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw TypeError(n+" can't have a ."+t+" property.")}};return e}function tc(e){var t,n=ej(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function tf(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function td(e){return e.decorators&&e.decorators.length}function tp(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function tE(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw TypeError("Expected '"+t+"' to be a function");return n}function t8(e,t,n){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return n}function tv(){throw TypeError("attempted to reassign private method")}function th(e,t){th=function(e,t){return new o(e,t)};var n=eC(RegExp),r=RegExp.prototype,i=new WeakMap;function o(e,t){var r=n.call(this,e);return i.set(r,t),r}function a(e,t){var n=i.get(t);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return!function e(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e_(t,n)}(o,n),o.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=a(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=i.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"!=typeof t)return r[Symbol.replace].call(this,e,t);var o=this;return r[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(a(e,o)),t.apply(this,e)})},th.apply(this,arguments)}var tT,tI,tm=function e(t,n){return t.splice(n,1)},tg=function e(t,n){n?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},t$=function e(){var t=[],n=function e(n,r){tm(t,t.findIndex(function(e){return e.event===n&&(e.cb===r||!r)}))},r=function e(n,r,i){t.filter(function(e){return e.event===n}).map(function(e){return e.cb}).forEach(function(e){return tg(function(){return e.apply(void 0,e2(r))},i)})};return{fireSync:function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r(t,i,!0)},fire:function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r(t,i,!1)},on:function e(n,r){t.push({event:n,cb:r})},onOnce:function e(r,i){t.push({event:r,cb:function e(){n(r,i),i.apply(void 0,arguments)}})},off:n}},tR=function e(t,n,r){Object.getOwnPropertyNames(t).filter(function(e){return!r.includes(e)}).forEach(function(e){return Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})},ty=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze",],tO=function e(t){var n={};return tR(t,n,ty),n},tD=function e(t){t.forEach(function(e,n){e.released&&tm(t,n)})},tS={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},tP={INPUT:1,LIMBO:2,LOCAL:3},tA=function e(t){return/[^0-9]+/.exec(t)},tL=function e(){return tA(1.1.toLocaleString())[0]},tb={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},t_=[],tw=function e(t,n,r){return new Promise(function(e,i){var o=t_.filter(function(e){return e.key===t}).map(function(e){return e.cb});if(0===o.length){e(n);return}var a=o.shift();o.reduce(function(e,t){return e.then(function(e){return t(e,r)})},a(n,r)).then(function(t){return e(t)}).catch(function(e){return i(e)})})},tC=function e(t,n,r){return t_.filter(function(e){return e.key===t}).map(function(e){return e.cb(n,r)})},tM=function e(t,n){return t_.push({key:t,cb:n})},tN=function e(){return Object.assign({},tU)},tG=function e(t){s(t,function(e,t){tU[e]&&(tU[e][0]=er(t,tU[e][0],tU[e][1]))})},tU={id:[null,tb.STRING],name:["filepond",tb.STRING],disabled:[!1,tb.BOOLEAN],className:[null,tb.STRING],required:[!1,tb.BOOLEAN],captureMethod:[null,tb.STRING],allowSyncAcceptAttribute:[!0,tb.BOOLEAN],allowDrop:[!0,tb.BOOLEAN],allowBrowse:[!0,tb.BOOLEAN],allowPaste:[!0,tb.BOOLEAN],allowMultiple:[!1,tb.BOOLEAN],allowReplace:[!0,tb.BOOLEAN],allowRevert:[!0,tb.BOOLEAN],allowRemove:[!0,tb.BOOLEAN],allowProcess:[!0,tb.BOOLEAN],allowReorder:[!1,tb.BOOLEAN],allowDirectoriesOnly:[!1,tb.BOOLEAN],storeAsFile:[!1,tb.BOOLEAN],forceRevert:[!1,tb.BOOLEAN],maxFiles:[null,tb.INT],checkValidity:[!1,tb.BOOLEAN],itemInsertLocationFreedom:[!0,tb.BOOLEAN],itemInsertLocation:["before",tb.STRING],itemInsertInterval:[75,tb.INT],dropOnPage:[!1,tb.BOOLEAN],dropOnElement:[!0,tb.BOOLEAN],dropValidation:[!1,tb.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],tb.ARRAY],instantUpload:[!0,tb.BOOLEAN],maxParallelUploads:[2,tb.INT],allowMinimumUploadDuration:[!0,tb.BOOLEAN],chunkUploads:[!1,tb.BOOLEAN],chunkForce:[!1,tb.BOOLEAN],chunkSize:[5e6,tb.INT],chunkRetryDelays:[[500,1e3,3e3],tb.ARRAY],server:[null,tb.SERVER_API],fileSizeBase:[1e3,tb.INT],labelFileSizeBytes:["bytes",tb.STRING],labelFileSizeKilobytes:["KB",tb.STRING],labelFileSizeMegabytes:["MB",tb.STRING],labelFileSizeGigabytes:["GB",tb.STRING],labelDecimalSeparator:[tL(),tb.STRING],labelThousandsSeparator:[(tT=tL(),(tI=1e3.toLocaleString())!==1e3.toString()?tA(tI)[0]:"."===tT?",":"."),tb.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',tb.STRING,],labelInvalidField:["Field contains invalid files",tb.STRING],labelFileWaitingForSize:["Waiting for size",tb.STRING],labelFileSizeNotAvailable:["Size not available",tb.STRING],labelFileCountSingular:["file in list",tb.STRING],labelFileCountPlural:["files in list",tb.STRING],labelFileLoading:["Loading",tb.STRING],labelFileAdded:["Added",tb.STRING],labelFileLoadError:["Error during load",tb.STRING],labelFileRemoved:["Removed",tb.STRING],labelFileRemoveError:["Error during remove",tb.STRING],labelFileProcessing:["Uploading",tb.STRING],labelFileProcessingComplete:["Upload complete",tb.STRING],labelFileProcessingAborted:["Upload cancelled",tb.STRING],labelFileProcessingError:["Error during upload",tb.STRING],labelFileProcessingRevertError:["Error during revert",tb.STRING],labelTapToCancel:["tap to cancel",tb.STRING],labelTapToRetry:["tap to retry",tb.STRING],labelTapToUndo:["tap to undo",tb.STRING],labelButtonRemoveItem:["Remove",tb.STRING],labelButtonAbortItemLoad:["Abort",tb.STRING],labelButtonRetryItemLoad:["Retry",tb.STRING],labelButtonAbortItemProcessing:["Cancel",tb.STRING],labelButtonUndoItemProcessing:["Undo",tb.STRING],labelButtonRetryItemProcessing:["Retry",tb.STRING],labelButtonProcessItem:["Upload",tb.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',tb.STRING,],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',tb.STRING,],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',tb.STRING,],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',tb.STRING,],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',tb.STRING,],oninit:[null,tb.FUNCTION],onwarning:[null,tb.FUNCTION],onerror:[null,tb.FUNCTION],onactivatefile:[null,tb.FUNCTION],oninitfile:[null,tb.FUNCTION],onaddfilestart:[null,tb.FUNCTION],onaddfileprogress:[null,tb.FUNCTION],onaddfile:[null,tb.FUNCTION],onprocessfilestart:[null,tb.FUNCTION],onprocessfileprogress:[null,tb.FUNCTION],onprocessfileabort:[null,tb.FUNCTION],onprocessfilerevert:[null,tb.FUNCTION],onprocessfile:[null,tb.FUNCTION],onprocessfiles:[null,tb.FUNCTION],onremovefile:[null,tb.FUNCTION],onpreparefile:[null,tb.FUNCTION],onupdatefiles:[null,tb.FUNCTION],onreorderfiles:[null,tb.FUNCTION],beforeDropFile:[null,tb.FUNCTION],beforeAddFile:[null,tb.FUNCTION],beforeRemoveFile:[null,tb.FUNCTION],beforePrepareFile:[null,tb.FUNCTION],stylePanelLayout:[null,tb.STRING],stylePanelAspectRatio:[null,tb.STRING],styleItemPanelAspectRatio:[null,tb.STRING],styleButtonRemoveItemPosition:["left",tb.STRING],styleButtonProcessItemPosition:["right",tb.STRING],styleLoadIndicatorPosition:["right",tb.STRING],styleProgressIndicatorPosition:["right",tb.STRING],styleButtonRemoveItemAlign:[!1,tb.BOOLEAN],files:[[],tb.ARRAY],credits:[["https://pqina.nl/",""],tb.ARRAY]},tB=function e(t,n){return B(n)?t[0]||null:W(n)?t[n]||null:("object"==typeof n&&(n=n.id),t.find(function(e){return e.id===n})||null)},tx=function e(t){if(B(t))return t;if(/:/.test(t)){var n=t.split(":");return n[1]/n[0]}return parseFloat(t)},tF=function e(t){return t.filter(function(e){return!e.archived})},tq={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},tV=null,tk=function e(){if(null===tV)try{var t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));var n=document.createElement("input");n.setAttribute("type","file"),n.files=t.files,tV=1===n.files.length}catch(r){tV=!1}return tV},t0=[tS.LOAD_ERROR,tS.PROCESSING_ERROR,tS.PROCESSING_REVERT_ERROR,],tY=[tS.LOADING,tS.PROCESSING,tS.PROCESSING_QUEUED,tS.INIT,],tz=[tS.PROCESSING_COMPLETE],t1=function e(t){return t0.includes(t.status)},tH=function e(t){return tY.includes(t.status)},tW=function e(t){return tz.includes(t.status)},tX=function e(t){return ee(t.options.server)&&(ee(t.options.server.process)||Q(t.options.server.process))},t3=function e(t){return{GET_STATUS:function e(){var n=tF(t.items),r=tq.EMPTY,i=tq.ERROR,o=tq.BUSY,a=tq.IDLE,u=tq.READY;return 0===n.length?r:n.some(t1)?i:n.some(tH)?o:n.some(tW)?u:a},GET_ITEM:function e(n){return tB(t.items,n)},GET_ACTIVE_ITEM:function e(n){return tB(tF(t.items),n)},GET_ACTIVE_ITEMS:function e(){return tF(t.items)},GET_ITEMS:function e(){return t.items},GET_ITEM_NAME:function e(n){var r=tB(t.items,n);return r?r.filename:null},GET_ITEM_SIZE:function e(n){var r=tB(t.items,n);return r?r.fileSize:null},GET_STYLES:function e(){return Object.keys(t.options).filter(function(e){return/^style/.test(e)}).map(function(e){return{name:e,value:t.options[e]}})},GET_PANEL_ASPECT_RATIO:function e(){return/circle/.test(t.options.stylePanelLayout)?1:tx(t.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function e(){return t.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function e(n){return tF(t.items).filter(function(e){return e.status===n})},GET_TOTAL_ITEMS:function e(){return tF(t.items).length},SHOULD_UPDATE_FILE_INPUT:function e(){return t.options.storeAsFile&&tk()&&!tX(t)},IS_ASYNC:function e(){return tX(t)},GET_FILE_SIZE_LABELS:function e(t){return{labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},t2=function e(t){var n=tF(t.items).length;if(!t.options.allowMultiple)return 0===n;var r=t.options.maxFiles;return null===r||!!(n<r)},t7=function e(t,n,r){return Math.max(Math.min(r,t),n)},t4=function e(t,n,r){var i,o,a;return B(n)?null:void 0===r?(t.push(n),n):(r=t7(r,0,t.length),i=t,o=r,a=n,i.splice(o,0,a),n)},tQ=function e(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},t5=function e(t){return t.split("/").pop().split("?").shift()},tj=function e(t){return t.split(".").pop()},t6=function e(t){if("string"!=typeof t)return"";var n=t.split("/").pop();return/svg/.test(n)?"svg":/zip|compressed/.test(n)?"zip":/plain/.test(n)?"txt":/msword/.test(n)?"doc":/[a-z]+/.test(n)?"jpeg"===n?"jpg":n:""},tZ=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(n+t).slice(-n.length)},t9=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.getFullYear()+"-"+tZ(t.getMonth()+1,"00")+"-"+tZ(t.getDate(),"00")+"_"+tZ(t.getHours(),"00")+"-"+tZ(t.getMinutes(),"00")+"-"+tZ(t.getSeconds(),"00")},tK=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="string"==typeof r?t.slice(0,t.size,r):t.slice(0,t.size,t.type);return o.lastModifiedDate=new Date,t._relativePath&&(o._relativePath=t._relativePath),k(n)||(n=t9()),n&&null===i&&tj(n)?o.name=n:(i=i||t6(o.type),o.name=n+(i?"."+i:"")),o},tJ=function e(t,n){var r=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(r){var i=new r;return i.append(t),i.getBlob(n)}return new Blob([t],{type:n})},ne=function e(t,n){for(var r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return tJ(r,n)},nt=function e(t){return(/^data:(.+);/.exec(t)||[])[1]||null},nn=function e(t){var n,r,i=nt(t),o=(r=t,atob((n=r,n.split(",")[1].replace(/\s/g,""))));return ne(o,i)},nr=function e(t){if(!/^content-disposition:/i.test(t))return null;var n=t.split(/filename=|filename\*=.+''/).splice(1).map(function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(e){return e.length});return n.length?decodeURI(n[n.length-1]):null},ni=function e(t){if(/content-length:/i.test(t)){var n=t.match(/[0-9]+/)[0];return n?parseInt(n,10):null}return null},no=function e(t){var n={source:null,name:null,size:null},r=t.split("\n"),i=!0,o=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,c=nr(l);if(c){n.name=c;continue}var f=ni(l);if(f){n.size=f;continue}var d,p=(d=l,/x-content-transfer-id:/i.test(d)&&(d.split(":")[1]||"").trim()||null);if(p){n.source=p;continue}}}catch(E){o=!0,a=E}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n},na=function e(t){var n={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=function e(){return n.progress},i=function e(){n.request&&n.request.abort&&n.request.abort()},o=function e(){var t,r=n.source;(u.fire("init",r),r instanceof File)?u.fire("load",r):r instanceof Blob?u.fire("load",tK(r,r.name)):tQ(r)?u.fire("load",tK(nn(t=r),void 0,null,void 0)):a(r)},a=function e(r){if(!t){u.fire("error",{type:"error",body:"Can't load URL",code:400});return}n.timestamp=Date.now(),n.request=t(r,function(e){n.duration=Date.now()-n.timestamp,n.complete=!0,e instanceof Blob&&(e=tK(e,e.name||t5(r))),u.fire("load",e instanceof Blob?e:e?e.body:null)},function(e){u.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)},function(e,t,r){if(r&&(n.size=r),n.duration=Date.now()-n.timestamp,!e){n.progress=null;return}n.progress=t/r,u.fire("progress",n.progress)},function(){u.fire("abort")},function(e){var t=no("string"==typeof e?e:e.headers);u.fire("meta",{size:n.size||t.size,filename:t.name,source:t.source})})},u=Object.assign({},t$(),{setSource:function e(t){return n.source=t},getProgress:r,abort:i,load:o});return u},nu=function e(t){return/GET|HEAD/.test(t)},ns=function e(t,n,r){var i={onheaders:function e(){},onprogress:function e(){},onload:function e(){},ontimeout:function e(){},onerror:function e(){},onabort:function e(){},abort:function e(){o=!0,u.abort()}},o=!1,a=!1;r=Object.assign({method:"POST",headers:{},withCredentials:!1},r),n=encodeURI(n),nu(r.method)&&t&&(n=""+n+encodeURIComponent("string"==typeof t?t:JSON.stringify(t)));var u=new XMLHttpRequest;return(nu(r.method)?u:u.upload).onprogress=function(e){!o&&i.onprogress(e.lengthComputable,e.loaded,e.total)},u.onreadystatechange=function(){!(u.readyState<2)&&(4!==u.readyState||0!==u.status)&&!a&&(a=!0,i.onheaders(u))},u.onload=function(){u.status>=200&&u.status<300?i.onload(u):i.onerror(u)},u.onerror=function(){return i.onerror(u)},u.onabort=function(){o=!0,i.onabort()},u.ontimeout=function(){return i.ontimeout(u)},u.open(r.method,n,!0),W(r.timeout)&&(u.timeout=r.timeout),Object.keys(r.headers).forEach(function(e){var t=unescape(encodeURIComponent(r.headers[e]));u.setRequestHeader(e,t)}),r.responseType&&(u.responseType=r.responseType),r.withCredentials&&(u.withCredentials=!0),u.send(t),i},nl=function e(t,n,r,i){return{type:t,code:n,body:r,headers:i}},nc=function e(t){return function(e){t(nl("error",0,"Timeout",e.getAllResponseHeaders()))}},nf=function e(t){return/\?/.test(t)},nd=function e(){for(var t="",n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(function(e){t+=nf(t)&&nf(e)?e.replace(/\?/,"&"):e}),t},np=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if("function"==typeof n)return n;if(!n||!k(n.url))return null;var r=n.onload||function(e){return e},i=n.onerror||function(e){return null};return function(e,o,a,u,s,l){var c=ns(e,nd(t,n.url),Object.assign({},n,{responseType:"blob"}));return c.onload=function(t){var i=t.getAllResponseHeaders(),a=no(i).name||t5(e);o(nl("load",t.status,"HEAD"===n.method?null:tK(r(t.response),a),i))},c.onerror=function(e){a(nl("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},c.onheaders=function(e){l(nl("headers",e.status,null,e.getAllResponseHeaders()))},c.ontimeout=nc(a),c.onprogress=u,c.onabort=s,c}},nE={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},n8=function e(t,n,r,i,o,a,u,s,l,c,f){for(var d,p,E,h,T,I,m,g,$,R=[],y=f.chunkTransferId,O=f.chunkServer,D=f.chunkSize,S=f.chunkRetryDelays,P={serverId:y,aborted:!1},A=n.ondata||function(e){return e},L=n.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},b=n.onerror||function(e){return null},_=Math.floor(i.size/D),w=0;w<=_;w++){var C=w*D,M=i.slice(C,C+D,"application/offset+octet-stream");R[w]={index:w,size:M.size,offset:C,data:M,file:i,progress:0,retries:e2(S),status:nE.QUEUED,error:null,request:null,timeout:null}}var N=function e(t){return t.status===nE.QUEUED||t.status===nE.ERROR},G=function e(n){if(!P.aborted){if(!(n=n||R.find(N))){R.every(function(e){return e.status===nE.COMPLETE})&&a(P.serverId);return}n.status=nE.PROCESSING,n.progress=null;var r=O.ondata||function(e){return e},o=O.onerror||function(e){return null},s=nd(t,O.url,P.serverId),c="function"==typeof O.headers?O.headers(n):Object.assign({},O.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":n.offset,"Upload-Length":i.size,"Upload-Name":i.name}),f=n.request=ns(r(n.data),s,Object.assign({},O,{headers:c}));f.onload=function(){n.status=nE.COMPLETE,n.request=null,x()},f.onprogress=function(e,t,r){n.progress=e?t:null,B()},f.onerror=function(e){n.status=nE.ERROR,n.request=null,n.error=o(e.response)||e.statusText,U(n)||u(nl("error",e.status,o(e.response)||e.statusText,e.getAllResponseHeaders()))},f.ontimeout=function(e){n.status=nE.ERROR,n.request=null,U(n)||nc(u)(e)},f.onabort=function(){n.status=nE.QUEUED,n.request=null,l()}}},U=function e(t){return 0!==t.retries.length&&(t.status=nE.WAITING,clearTimeout(t.timeout),t.timeout=setTimeout(function(){G(t)},t.retries.shift()),!0)},B=function e(){var t=R.reduce(function(e,t){return null===e||null===t.progress?null:e+t.progress},0);if(null===t)return s(!1,0,0);s(!0,t,R.reduce(function(e,t){return e+t.size},0))},x=function e(){R.filter(function(e){return e.status===nE.PROCESSING}).length>=1||G()},F=function e(){R.forEach(function(e){clearTimeout(e.timeout),e.request&&e.request.abort()})};return P.serverId?(d=function(e){P.aborted||(R.filter(function(t){return t.offset<e}).forEach(function(e){e.status=nE.COMPLETE,e.progress=e.size}),x())},p=nd(t,O.url,P.serverId),(h=ns(null,p,E={headers:"function"==typeof n.headers?n.headers(P.serverId):Object.assign({},n.headers),method:"HEAD"})).onload=function(e){return d(L(e,E.method))},h.onerror=function(e){return u(nl("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))},h.ontimeout=nc(u)):(T=function(e){P.aborted||(c(e),P.serverId=e,x())},I=new FormData,ee(o)&&I.append(r,JSON.stringify(o)),m="function"==typeof n.headers?n.headers(i,o):Object.assign({},n.headers,{"Upload-Length":i.size}),g=Object.assign({},n,{headers:m}),($=ns(A(I),nd(t,n.url),g)).onload=function(e){return T(L(e,g.method))},$.onerror=function(e){return u(nl("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))},$.ontimeout=nc(u)),{abort:function e(){P.aborted=!0,F()}}},nv=function e(){var t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return"function"==typeof a?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.apply(void 0,[u].concat(t,[s]))}:a&&k(a.url)?(t=o,n=a,r=u,i=s,function(e,o,a,u,s,l,c){if(e){var f=i.chunkUploads,d=f&&e.size>i.chunkSize,p=f&&(d||i.chunkForce);if(e instanceof Blob&&p)return n8(t,n,r,e,o,a,u,s,l,c,i);var E=n.ondata||function(e){return e},h=n.onload||function(e){return e},T=n.onerror||function(e){return null},I="function"==typeof n.headers?n.headers(e,o)||{}:Object.assign({},n.headers),m=Object.assign({},n,{headers:I}),g=new FormData;ee(o)&&g.append(r,JSON.stringify(o)),(e instanceof Blob?[{name:null,file:e}]:e).forEach(function(e){g.append(r,e.file,null===e.name?e.file.name:""+e.name+e.file.name)});var $=ns(E(g),nd(t,n.url),m);return $.onload=function(e){a(nl("load",e.status,h(e.response),e.getAllResponseHeaders()))},$.onerror=function(e){u(nl("error",e.status,T(e.response)||e.statusText,e.getAllResponseHeaders()))},$.ontimeout=nc(u),$.onprogress=s,$.onabort=l,$}}):null},nh=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if("function"==typeof n)return n;if(!n||!k(n.url))return function(e,t){return t()};var r=n.onload||function(e){return e},i=n.onerror||function(e){return null};return function(e,o,a){var u=ns(e,t+n.url,n);return u.onload=function(e){o(nl("load",e.status,r(e.response),e.getAllResponseHeaders()))},u.onerror=function(e){a(nl("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},u.ontimeout=nc(a),u}},nT=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t+Math.random()*(n-t)},nI=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=null,a=Date.now();return n>0&&function e(){var u=Date.now()-a,s=nT(r,i);u+s>n&&(s=u+s-n);var l=u/n;if(l>=1||document.hidden){t(1);return}t(l),o=setTimeout(e,s)}(),{clear:function e(){clearTimeout(o)}}},nm=function e(t,n){var r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},i=n.allowMinimumUploadDuration,o=function e(n,o){var a=function e(){0!==r.duration&&null!==r.progress&&c.fire("progress",c.getProgress())},u=function e(){r.complete=!0,c.fire("load-perceived",r.response.body)};c.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=nI(function(e){r.perceivedProgress=e,r.perceivedDuration=Date.now()-r.timestamp,a(),r.response&&1===r.perceivedProgress&&!r.complete&&u()},i?nT(750,1500):0),r.request=t(n,o,function(e){r.response=ee(e)?e:{type:"load",code:200,body:""+e,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,c.fire("load",r.response.body),(!i||i&&1===r.perceivedProgress)&&u()},function(e){r.perceivedPerformanceUpdater.clear(),c.fire("error",ee(e)?e:{type:"error",code:0,body:""+e})},function(e,t,n){r.duration=Date.now()-r.timestamp,r.progress=e?t/n:null,a()},function(){r.perceivedPerformanceUpdater.clear(),c.fire("abort",r.response?r.response.body:null)},function(e){c.fire("transfer",e)})},a=function e(){r.request&&(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},u=function e(){a(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null},s=i?function(){return r.progress?Math.min(r.progress,r.perceivedProgress):null}:function(){return r.progress||null},l=i?function(){return Math.min(r.duration,r.perceivedDuration)}:function(){return r.duration},c=Object.assign({},t$(),{process:o,abort:a,getProgress:s,getDuration:l,reset:u});return c},ng=function e(t){return t.substring(0,t.lastIndexOf("."))||t},n$=function e(t){var n=[t.name,t.size,t.type];return t instanceof Blob||tQ(t)?n[0]=t.name||t9():tQ(t)?(n[1]=t.length,n[2]=nt(t)):k(t)&&(n[0]=t5(t),n[1]=0,n[2]="application/octet-stream"),{name:n[0],size:n[1],type:n[2]}},nR=function e(t){return!!(t instanceof File||t instanceof Blob&&t.name)},ny=function e(t){if(!ee(t))return t;var n=U(t)?[]:{};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n[r]=i&&ee(i)?e(i):i}return n},nO=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=el(),o={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:n,transferId:null,processingAborted:!1,status:n?tS.PROCESSING_COMPLETE:tS.INIT,activeLoader:null,activeProcessor:null},a=null,u={},s=function e(t){return o.status=t},c=function e(t){if(!o.released&&!o.frozen){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];d.fire.apply(d,[t].concat(r))}},f=function e(t,n,r){var i=t.split("."),o=i[0],a=i.pop(),s=u;i.forEach(function(e){return s=s[e]}),JSON.stringify(s[a])!==JSON.stringify(n)&&(s[a]=n,c("metadata-update",{key:o,value:u[o],silent:r}))},d=Object.assign({id:{get:function e(){return i}},origin:{get:function e(){return t},set:function e(n){return t=n}},serverId:{get:function e(){return o.serverFileReference}},transferId:{get:function e(){return o.transferId}},status:{get:function e(){return o.status}},filename:{get:function e(){return o.file.name}},filenameWithoutExtension:{get:function e(){return ng(o.file.name)}},fileExtension:{get:function e(){return tj(o.file.name)}},fileType:{get:function e(){return o.file.type}},fileSize:{get:function e(){return o.file.size}},file:{get:function e(){return o.file}},relativePath:{get:function e(){return o.file._relativePath}},source:{get:function e(){return o.source}},getMetadata:function e(t){return ny(t?u[t]:u)},setMetadata:function e(t,n,r){if(ee(t)){var i=t;return Object.keys(i).forEach(function(e){f(e,i[e],n)}),t}return f(t,n,r),n},extend:function e(t,n){return p[t]=n},abortLoad:function e(){if(o.activeLoader){o.activeLoader.abort();return}s(tS.INIT),c("load-abort")},retryLoad:function e(){o.activeLoader&&o.activeLoader.load()},requestProcessing:function e(){o.processingAborted=!1,s(tS.PROCESSING_QUEUED)},abortProcessing:function e(){return new Promise(function(e){if(!o.activeProcessor){o.processingAborted=!0,s(tS.IDLE),c("process-abort"),e();return}a=function t(){e()},o.activeProcessor.abort()})},load:function e(n,r,i){if(o.source=n,d.fireSync("init"),o.file){d.fireSync("load-skip");return}o.file=n$(n),r.on("init",function(){c("load-init")}),r.on("meta",function(e){o.file.size=e.size,o.file.filename=e.filename,e.source&&(t=tP.LIMBO,o.serverFileReference=e.source,o.status=tS.PROCESSING_COMPLETE),c("load-meta")}),r.on("progress",function(e){s(tS.LOADING),c("load-progress",e)}),r.on("error",function(e){s(tS.LOAD_ERROR),c("load-request-error",e)}),r.on("abort",function(){s(tS.INIT),c("load-abort")}),r.on("load",function(e){o.activeLoader=null;var n=function e(n){o.file=nR(n)?n:o.file,t===tP.LIMBO&&o.serverFileReference?s(tS.PROCESSING_COMPLETE):s(tS.IDLE),c("load")},r=function t(n){o.file=e,c("load-meta"),s(tS.LOAD_ERROR),c("load-file-error",n)};if(o.serverFileReference){n(e);return}i(e,n,r)}),r.setSource(n),o.activeLoader=r,r.load()},process:function e(t,n){if(o.processingAborted){o.processingAborted=!1;return}if(s(tS.PROCESSING),a=null,!(o.file instanceof Blob)){d.on("load",function(){e(t,n)});return}t.on("load",function(e){o.transferId=null,o.serverFileReference=e}),t.on("transfer",function(e){o.transferId=e}),t.on("load-perceived",function(e){o.activeProcessor=null,o.transferId=null,o.serverFileReference=e,s(tS.PROCESSING_COMPLETE),c("process-complete",e)}),t.on("start",function(){c("process-start")}),t.on("error",function(e){o.activeProcessor=null,s(tS.PROCESSING_ERROR),c("process-error",e)}),t.on("abort",function(e){o.activeProcessor=null,o.serverFileReference=e,s(tS.IDLE),c("process-abort"),a&&a()}),t.on("progress",function(e){c("process-progress",e)});var r=function e(n){o.archived||t.process(n,Object.assign({},u))},i=console.error;n(o.file,r,i),o.activeProcessor=t},revert:function e(t,n){return new Promise(function(e,r){var i=null!==o.serverFileReference?o.serverFileReference:o.transferId;if(null===i){e();return}t(i,function(){o.serverFileReference=null,o.transferId=null,e()},function(t){if(!n){e();return}s(tS.PROCESSING_REVERT_ERROR),c("process-revert-error"),r(t)}),s(tS.IDLE),c("process-revert")})}},t$(),{freeze:function e(){return o.frozen=!0},release:function e(){return o.released=!0},released:{get:function e(){return o.released}},archive:function e(){return o.archived=!0},archived:{get:function e(){return o.archived}}}),p=l(d);return p},nD=function e(t,n){var r,i,o=(r=t,i=n,B(i)?0:k(i)?r.findIndex(function(e){return e.id===i}):-1);if(!(o<0))return t[o]||null},nS=function e(t,n,r,i,o,a){var u=ns(null,t,{method:"GET",responseType:"blob"});return u.onload=function(e){var r=e.getAllResponseHeaders(),i=no(r).name||t5(t);n(nl("load",e.status,tK(e.response,i),r))},u.onerror=function(e){r(nl("error",e.status,e.statusText,e.getAllResponseHeaders()))},u.onheaders=function(e){a(nl("headers",e.status,null,e.getAllResponseHeaders()))},u.ontimeout=nc(r),u.onprogress=i,u.onabort=o,u},nP=function e(t){return 0===t.indexOf("//")&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},nA=function e(t){return function(){return Q(t)?t.apply(void 0,arguments):t}},nL=function e(t,n){clearTimeout(n.listUpdateTimeout),n.listUpdateTimeout=setTimeout(function(){t("DID_UPDATE_ITEMS",{items:tF(n.items)})},0)},nb=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new Promise(function(e){if(!t)return e(!0);var n=t.apply(void 0,r);return null==n?e(!0):"boolean"==typeof n?e(n):void("function"==typeof n.then&&n.then(e))})},n_=function e(t,n){t.items.sort(function(e,t){return n(tO(e),tO(t))})},nw=function e(t,n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.query,i=e.success,o=e.failure,a=void 0===o?function(){}:o,u=function e(t,n){if(null==t)return{};var r,i,o=function e(t,n){if(null==t)return{};var r,i,o={},a=Object.keys(t);for(i=0;i<a.length;i++)r=a[i],n.indexOf(r)>=0||(o[r]=t[r]);return o}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,["query","success","failure"]),s=tB(t.items,r);if(!s){a({error:nl("error",0,"Item not found"),file:null});return}n(s,void 0===i?function(){}:i,a,u||{})}},nC=function e(t,n,r){return{ABORT_ALL:function e(){tF(r.items).forEach(function(e){e.freeze(),e.abortLoad(),e.abortProcessing()})},DID_SET_FILES:function e(n){var i=n.value,o=(void 0===i?[]:i).map(function(e){return{source:e.source?e.source:e,options:e.options}}),a=tF(r.items);a.forEach(function(e){o.find(function(t){return t.source===e.source||t.source===e.file})||t("REMOVE_ITEM",{query:e,remove:!1})}),a=tF(r.items),o.forEach(function(e,n){a.find(function(t){return t.source===e.source||t.file===e.source})||t("ADD_ITEM",Object.assign({},e,{interactionMethod:es.NONE,index:n}))})},DID_UPDATE_ITEM_METADATA:function e(i){var o=i.id,a=i.action,u=i.change;u.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout(function(){var e,i=nD(r.items,o);if(!n("IS_ASYNC")){tw("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:n,action:a,change:u}).then(function(e){var r=n("GET_BEFORE_PREPARE_FILE");r&&(e=r(i,e)),e&&t("REQUEST_PREPARE_OUTPUT",{query:o,item:i,success:function e(n){t("DID_PREPARE_OUTPUT",{id:o,file:n})}},!0)});return}i.origin===tP.LOCAL&&t("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.source});var s=function e(){setTimeout(function(){t("REQUEST_ITEM_PROCESSING",{query:o})},32)};return i.status===tS.PROCESSING_COMPLETE?function e(t){i.revert(nh(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then(t?s:function(){}).catch(function(){})}(r.options.instantUpload):i.status===tS.PROCESSING?(e=r.options.instantUpload,void i.abortProcessing().then(e?s:function(){})):void(r.options.instantUpload&&s())},0))},MOVE_ITEM:function e(t){var n=t.query,i=t.index,o=tB(r.items,n);if(o){var a=r.items.indexOf(o);i=t7(i,0,r.items.length-1),a!==i&&r.items.splice(i,0,r.items.splice(a,1)[0])}},SORT:function e(i){n_(r,i.compare),t("DID_SORT_ITEMS",{items:n("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function e(r){var i=r.items,o=r.index,a=r.interactionMethod,u=r.success,s=r.failure,l=o;if(-1===o||void 0===o){var c=n("GET_ITEM_INSERT_LOCATION"),f=n("GET_TOTAL_ITEMS");l="before"===c?0:f}var d=n("GET_IGNORED_FILES"),p=function e(t){return nR(t)?!d.includes(t.name.toLowerCase()):!B(t)};Promise.all(i.filter(p).map(function(e){return new Promise(function(n,r){t("ADD_ITEM",{interactionMethod:a,source:e.source||e,success:n,failure:r,index:l++,options:e.options||{}})})})).then(void 0===u?function(){}:u).catch(void 0===s?function(){}:s)},ADD_ITEM:function e(i){var o=i.source,a=i.index,u=void 0===a?-1:a,s=i.interactionMethod,l=i.success,c=void 0===l?function(){}:l,f=i.failure,d=void 0===f?function(){}:f,p=i.options,E=void 0===p?{}:p;if(B(o)){d({error:nl("error",0,"No source"),file:null});return}if(!(nR(o)&&r.options.ignoredFiles.includes(o.name.toLowerCase()))){if(!t2(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){var h=nl("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:o,error:h}),d({error:h,file:null});return}var T=tF(r.items)[0];if(T.status===tS.PROCESSING_COMPLETE||T.status===tS.PROCESSING_REVERT_ERROR){var I=n("GET_FORCE_REVERT");if(T.revert(nh(r.options.server.url,r.options.server.revert),I).then(function(){I&&t("ADD_ITEM",{source:o,index:u,interactionMethod:s,success:c,failure:d,options:E})}).catch(function(){}),I)return}t("REMOVE_ITEM",{query:T.id})}var m="local"===E.type?tP.LOCAL:"limbo"===E.type?tP.LIMBO:tP.INPUT,g=nO(m,m===tP.INPUT?null:o,E.file);Object.keys(E.metadata||{}).forEach(function(e){g.setMetadata(e,E.metadata[e])}),tC("DID_CREATE_ITEM",g,{query:n,dispatch:t});var $=n("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(u="before"===$?-1:r.items.length),t4(r.items,g,u),Q($)&&o&&n_(r,$);var R=g.id;g.on("init",function(){t("DID_INIT_ITEM",{id:R})}),g.on("load-init",function(){t("DID_START_ITEM_LOAD",{id:R})}),g.on("load-meta",function(){t("DID_UPDATE_ITEM_META",{id:R})}),g.on("load-progress",function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:R,progress:e})}),g.on("load-request-error",function(e){var n=nA(r.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500){t("DID_THROW_ITEM_INVALID",{id:R,error:e,status:{main:n,sub:e.code+" ("+e.body+")"}}),d({error:e,file:tO(g)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:R,error:e,status:{main:n,sub:r.options.labelTapToRetry}})}),g.on("load-file-error",function(e){t("DID_THROW_ITEM_INVALID",{id:R,error:e.status,status:e.status}),d({error:e.status,file:tO(g)})}),g.on("load-abort",function(){t("REMOVE_ITEM",{query:R})}),g.on("load-skip",function(){t("COMPLETE_LOAD_ITEM",{query:R,item:g,data:{source:o,success:c}})}),g.on("load",function(){var e=function e(i){if(!i){t("REMOVE_ITEM",{query:R});return}g.on("metadata-update",function(e){t("DID_UPDATE_ITEM_METADATA",{id:R,change:e})}),tw("SHOULD_PREPARE_OUTPUT",!1,{item:g,query:n}).then(function(e){var i=n("GET_BEFORE_PREPARE_FILE");i&&(e=i(g,e));var a=function e(){t("COMPLETE_LOAD_ITEM",{query:R,item:g,data:{source:o,success:c}}),nL(t,r)};if(e){t("REQUEST_PREPARE_OUTPUT",{query:R,item:g,success:function e(n){t("DID_PREPARE_OUTPUT",{id:R,file:n}),a()}},!0);return}a()})};tw("DID_LOAD_ITEM",g,{query:n,dispatch:t}).then(function(){nb(n("GET_BEFORE_ADD_FILE"),tO(g)).then(e)}).catch(function(n){if(!n||!n.error||!n.status)return e(!1);t("DID_THROW_ITEM_INVALID",{id:R,error:n.error,status:n.status})})}),g.on("process-start",function(){t("DID_START_ITEM_PROCESSING",{id:R})}),g.on("process-progress",function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:R,progress:e})}),g.on("process-error",function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:R,error:e,status:{main:nA(r.options.labelFileProcessingError)(e),sub:r.options.labelTapToRetry}})}),g.on("process-revert-error",function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:R,error:e,status:{main:nA(r.options.labelFileProcessingRevertError)(e),sub:r.options.labelTapToRetry}})}),g.on("process-complete",function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:R,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:R,value:e})}),g.on("process-abort",function(){t("DID_ABORT_ITEM_PROCESSING",{id:R})}),g.on("process-revert",function(){t("DID_REVERT_ITEM_PROCESSING",{id:R}),t("DID_DEFINE_VALUE",{id:R,value:null})}),t("DID_ADD_ITEM",{id:R,index:u,interactionMethod:s}),nL(t,r);var y,O=r.options.server||{},D=O.url,S=O.load,P=O.restore,A=O.fetch;g.load(o,na(m===tP.INPUT?k(o)&&((y=o).indexOf(":")>-1||y.indexOf("//")>-1)&&nP(location.href)!==nP(y)&&A?np(D,A):nS:m===tP.LIMBO?np(D,P):np(D,S)),function(e,t,r){tw("LOAD_FILE",e,{query:n}).then(t).catch(r)})}},REQUEST_PREPARE_OUTPUT:function e(t){var r=t.item,i=t.success,o=t.failure,a=void 0===o?function(){}:o,u={error:nl("error",0,"Item not found"),file:null};if(r.archived)return a(u);tw("PREPARE_OUTPUT",r.file,{query:n,item:r}).then(function(e){tw("COMPLETE_PREPARE_OUTPUT",e,{query:n,item:r}).then(function(e){if(r.archived)return a(u);i(e)})})},COMPLETE_LOAD_ITEM:function e(i){var o=i.item,a=i.data,u=a.success,s=a.source,l=n("GET_ITEM_INSERT_LOCATION");if(Q(l)&&s&&n_(r,l),t("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.origin===tP.INPUT?null:s}),u(tO(o)),o.origin===tP.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:o.id});return}if(o.origin===tP.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:s}),t("DID_DEFINE_VALUE",{id:o.id,value:o.serverId||s});return}n("IS_ASYNC")&&r.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:o.id})},RETRY_ITEM_LOAD:nw(r,function(e){e.retryLoad()}),REQUEST_ITEM_PREPARE:nw(r,function(e,n,r){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function r(i){t("DID_PREPARE_OUTPUT",{id:e.id,file:i}),n({file:e,output:i})},failure:r},!0)}),REQUEST_ITEM_PROCESSING:nw(r,function(e,i,o){if(!(e.status===tS.IDLE||e.status===tS.PROCESSING_ERROR)){var a=function n(){return t("REQUEST_ITEM_PROCESSING",{query:e,success:i,failure:o})},u=function e(){return document.hidden?a():setTimeout(a,32)};e.status===tS.PROCESSING_COMPLETE||e.status===tS.PROCESSING_REVERT_ERROR?e.revert(nh(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then(u).catch(function(){}):e.status===tS.PROCESSING&&e.abortProcessing().then(u);return}e.status!==tS.PROCESSING_QUEUED&&(e.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:e.id}),t("PROCESS_ITEM",{query:e,success:i,failure:o},!0))}),PROCESS_ITEM:nw(r,function(e,i,o){var a=n("GET_MAX_PARALLEL_UPLOADS");if(n("GET_ITEMS_BY_STATUS",tS.PROCESSING).length===a){r.processingQueue.push({id:e.id,success:i,failure:o});return}if(e.status!==tS.PROCESSING){var u=function e(){var n=r.processingQueue.shift();if(n){var i=n.id,o=n.success,a=n.failure,u=tB(r.items,i);if(!u||u.archived){e();return}t("PROCESS_ITEM",{query:i,success:o,failure:a},!0)}};e.onOnce("process-complete",function(){i(tO(e)),u();var o=r.options.server;if(r.options.instantUpload&&e.origin===tP.LOCAL&&Q(o.remove)){var a=function e(){};e.origin=tP.LIMBO,r.options.server.remove(e.source,a,a)}n("GET_ITEMS_BY_STATUS",tS.PROCESSING_COMPLETE).length===r.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),e.onOnce("process-error",function(t){o({error:t,file:tO(e)}),u()});var s=r.options;e.process(nm(nv(s.server.url,s.server.process,s.name,{chunkTransferId:e.transferId,chunkServer:s.server.patch,chunkUploads:s.chunkUploads,chunkForce:s.chunkForce,chunkSize:s.chunkSize,chunkRetryDelays:s.chunkRetryDelays}),{allowMinimumUploadDuration:n("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(r,i,o){tw("PREPARE_OUTPUT",r,{query:n,item:e}).then(function(n){t("DID_PREPARE_OUTPUT",{id:e.id,file:n}),i(n)}).catch(o)})}}),RETRY_ITEM_PROCESSING:nw(r,function(e){t("REQUEST_ITEM_PROCESSING",{query:e})}),REQUEST_REMOVE_ITEM:nw(r,function(e){nb(n("GET_BEFORE_REMOVE_FILE"),tO(e)).then(function(n){n&&t("REMOVE_ITEM",{query:e})})}),RELEASE_ITEM:nw(r,function(e){e.release()}),REMOVE_ITEM:nw(r,function(e,i,o,a){var u=function n(){var o=e.id;nD(r.items,o).archive(),t("DID_REMOVE_ITEM",{error:null,id:o,item:e}),nL(t,r),i(tO(e))},s=r.options.server;e.origin===tP.LOCAL&&s&&Q(s.remove)&&!1!==a.remove?(t("DID_START_ITEM_REMOVE",{id:e.id}),s.remove(e.source,function(){return u()},function(n){t("DID_THROW_ITEM_REMOVE_ERROR",{id:e.id,error:nl("error",0,n,null),status:{main:nA(r.options.labelFileRemoveError)(n),sub:r.options.labelTapToRetry}})})):((a.revert&&e.origin!==tP.LOCAL&&null!==e.serverId||r.options.chunkUploads&&e.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&e.revert(nh(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")),u())}),ABORT_ITEM_LOAD:nw(r,function(e){e.abortLoad()}),ABORT_ITEM_PROCESSING:nw(r,function(e){if(e.serverId){t("REVERT_ITEM_PROCESSING",{id:e.id});return}e.abortProcessing().then(function(){r.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})})}),REQUEST_REVERT_ITEM_PROCESSING:nw(r,function(e){if(!r.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:e});return}var i=function n(r){r&&t("REVERT_ITEM_PROCESSING",{query:e})},o=n("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);var a=o(tO(e));return null==a?i(!0):"boolean"==typeof a?i(a):void("function"==typeof a.then&&a.then(i))}),REVERT_ITEM_PROCESSING:nw(r,function(e){e.revert(nh(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then(function(){var n;(r.options.instantUpload||!nR((n=e).file))&&t("REMOVE_ITEM",{query:e.id})}).catch(function(){})}),SET_OPTIONS:function e(n){var r=n.options,i=Object.keys(r),o=nM.filter(function(e){return i.includes(e)});[].concat(e2(o),e2(Object.keys(r).filter(function(e){return!o.includes(e)}))).forEach(function(e){t("SET_"+ea(e,"_").toUpperCase(),{value:r[e]})})}}},nM=["server"],nN=function e(t){return t},nG=function e(t){return document.createElement(t)},nU=function e(t,n){var r=t.childNodes[0];r?n!==r.nodeValue&&(r.nodeValue=n):(r=document.createTextNode(n),t.appendChild(r))},nB=function e(t,n,r,i){var o=(i%360-90)*Math.PI/180;return{x:t+r*Math.cos(o),y:n+r*Math.sin(o)}},nx=function e(t,n,r,i,o,a){var u=nB(t,n,r,o),s=nB(t,n,r,i);return["M",u.x,u.y,"A",r,r,0,a,0,s.x,s.y].join(" ")},nF=function e(t,n,r,i,o){var a=1;return o>i&&o-i<=.5&&(a=0),i>o&&i-o>=.5&&(a=0),nx(t,n,r,360*Math.min(.9999,i),360*Math.min(.9999,o),a)},nq=C({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function e(t){var n=t.root,r=t.props;r.spin=!1,r.progress=0,r.opacity=0;var i=p("svg");n.ref.path=p("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(n.ref.path),n.ref.svg=i,n.appendChild(i)},write:function e(t){var n=t.root,r=t.props;if(0!==r.opacity){r.align&&(n.element.dataset.align=r.align);var i=parseInt(c(n.ref.path,"stroke-width"),10),o=.5*n.rect.element.width,a=0,u=0;r.spin?(a=0,u=.5):(a=0,u=r.progress);var s=nF(o,o,o-i,a,u);c(n.ref.path,"d",s),c(n.ref.path,"stroke-opacity",r.spin||r.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),nV=C({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function e(t){var n=t.root,r=t.props;n.element.innerHTML=(r.icon||"")+"<span>"+r.label+"</span>",r.isDisabled=!1},write:function e(t){var n=t.root,r=t.props,i=r.isDisabled,o=n.query("GET_DISABLED")||0===r.opacity;o&&!i?(r.isDisabled=!0,c(n.element,"disabled","disabled")):!o&&i&&(r.isDisabled=!1,n.element.removeAttribute("disabled"))}}),nk=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.labelBytes,a=i.labelKilobytes,u=i.labelMegabytes,s=i.labelGigabytes,l=r,c=r*r,f=r*r*r;return(t=Math.round(Math.abs(t)))<l?t+" "+(void 0===o?"bytes":o):t<c?Math.floor(t/l)+" "+(void 0===a?"KB":a):t<f?n0(t/c,1,n)+" "+(void 0===u?"MB":u):n0(t/f,2,n)+" "+(void 0===s?"GB":s)},n0=function e(t,n,r){return t.toFixed(n).split(".").filter(function(e){return"0"!==e}).join(r)},nY=function e(t){var n=t.root,r=t.props,i=nG("span");i.className="filepond--file-info-main",c(i,"aria-hidden","true"),n.appendChild(i),n.ref.fileName=i;var o=nG("span");o.className="filepond--file-info-sub",n.appendChild(o),n.ref.fileSize=o,nU(o,n.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),nU(i,nN(n.query("GET_ITEM_NAME",r.id)))},nz=function e(t){var n=t.root,r=t.props;nU(n.ref.fileSize,nk(n.query("GET_ITEM_SIZE",r.id),".",n.query("GET_FILE_SIZE_BASE"),n.query("GET_FILE_SIZE_LABELS",n.query))),nU(n.ref.fileName,nN(n.query("GET_ITEM_NAME",r.id)))},n1=function e(t){var n=t.root,r=t.props;if(W(n.query("GET_ITEM_SIZE",r.id))){nz({root:n,props:r});return}nU(n.ref.fileSize,n.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},nH=C({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:M({DID_LOAD_ITEM:nz,DID_UPDATE_ITEM_META:nz,DID_THROW_ITEM_LOAD_ERROR:n1,DID_THROW_ITEM_INVALID:n1}),didCreateView:function e(t){tC("CREATE_VIEW",Object.assign({},t,{view:t}))},create:nY,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),nW=function e(t){return Math.round(100*t)},nX=function e(t){var n=t.root,r=nG("span");r.className="filepond--file-status-main",n.appendChild(r),n.ref.main=r;var i=nG("span");i.className="filepond--file-status-sub",n.appendChild(i),n.ref.sub=i,n3({root:n,action:{progress:null}})},n3=function e(t){var n=t.root,r=t.action,i=null===r.progress?n.query("GET_LABEL_FILE_LOADING"):n.query("GET_LABEL_FILE_LOADING")+" "+nW(r.progress)+"%";nU(n.ref.main,i),nU(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},n2=function e(t){var n=t.root;nU(n.ref.main,""),nU(n.ref.sub,"")},n7=function e(t){var n=t.root,r=t.action;nU(n.ref.main,r.status.main),nU(n.ref.sub,r.status.sub)},n4=C({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:M({DID_LOAD_ITEM:n2,DID_REVERT_ITEM_PROCESSING:n2,DID_REQUEST_ITEM_PROCESSING:function e(t){var n=t.root;nU(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING")),nU(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function e(t){var n=t.root;nU(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING_ABORTED")),nU(n.ref.sub,n.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var n=t.root;nU(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),nU(n.ref.sub,n.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var n=t.root,r=t.action,i=null===r.progress?n.query("GET_LABEL_FILE_PROCESSING"):n.query("GET_LABEL_FILE_PROCESSING")+" "+nW(r.progress)+"%";nU(n.ref.main,i),nU(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:n3,DID_THROW_ITEM_LOAD_ERROR:n7,DID_THROW_ITEM_INVALID:n7,DID_THROW_ITEM_PROCESSING_ERROR:n7,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:n7,DID_THROW_ITEM_REMOVE_ERROR:n7}),didCreateView:function e(t){tC("CREATE_VIEW",Object.assign({},t,{view:t}))},create:nX,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),nQ={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},n5=[];s(nQ,function(e){n5.push(e)});var nj,n6,nZ,n9=function e(t){if("right"===rt(t))return 0;var n=t.ref.buttonRemoveItem.rect.element;return n.hidden?null:n.width+n.left},nK=function e(t){return t.ref.buttonAbortItemLoad.rect.element.width},nJ=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},re=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},rt=function e(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},rn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},rr={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:n9},status:{translateX:n9}},ri={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},ro={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:n9},status:{translateX:n9,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:n9},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:rt},info:{translateX:n9},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:rt},buttonRemoveItem:{opacity:1},info:{translateX:n9},status:{opacity:1,translateX:n9}},DID_LOAD_ITEM:rr,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:n9},status:{translateX:n9}},DID_START_ITEM_PROCESSING:ri,DID_REQUEST_ITEM_PROCESSING:ri,DID_UPDATE_ITEM_PROCESS_PROGRESS:ri,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:n9}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:n9},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:rr},ra=C({create:function e(t){var n=t.root;n.element.innerHTML=n.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),ru=function e(t){var n,r=t.root,i=t.props,o=Object.keys(nQ).reduce(function(e,t){return e[t]=Object.assign({},nQ[t]),e},{}),a=i.id,u=r.query("GET_ALLOW_REVERT"),l=r.query("GET_ALLOW_REMOVE"),c=r.query("GET_ALLOW_PROCESS"),f=r.query("GET_INSTANT_UPLOAD"),d=r.query("IS_ASYNC"),p=r.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");d?c&&!u?n=function e(t){return!/RevertItemProcessing/.test(t)}:!c&&u?n=function e(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}:c||u||(n=function e(t){return!/Process/.test(t)}):n=function e(t){return!/Process/.test(t)};var E=n?n5.filter(n):n5.concat();if(f&&u&&(o.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",o.RevertItemProcessing.icon="GET_ICON_REMOVE"),d&&!u){var h=ro.DID_COMPLETE_ITEM_PROCESSING;h.info.translateX=re,h.info.translateY=nJ,h.status.translateY=nJ,h.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(d&&!c&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR",].forEach(function(e){ro[e].status.translateY=nJ}),ro.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=nK),p&&u){o.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var T=ro.DID_COMPLETE_ITEM_PROCESSING;T.info.translateX=n9,T.status.translateY=nJ,T.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}l||(o.RemoveItem.disabled=!0),s(o,function(e,t){var n=r.createChildView(nV,{label:r.query(t.label),icon:r.query(t.icon),opacity:0});E.includes(e)&&r.appendChildView(n),t.disabled&&(n.element.setAttribute("disabled","disabled"),n.element.setAttribute("hidden","hidden")),n.element.dataset.align=r.query("GET_STYLE_"+t.align),n.element.classList.add(t.className),n.on("click",function(e){e.stopPropagation(),t.disabled||r.dispatch(t.action,{query:a})}),r.ref["button"+e]=n}),r.ref.processingCompleteIndicator=r.appendChildView(r.createChildView(ra)),r.ref.processingCompleteIndicator.element.dataset.align=r.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),r.ref.info=r.appendChildView(r.createChildView(nH,{id:a})),r.ref.status=r.appendChildView(r.createChildView(n4,{id:a}));var I=r.appendChildView(r.createChildView(nq,{opacity:0,align:r.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));I.element.classList.add("filepond--load-indicator"),r.ref.loadProgressIndicator=I;var m=r.appendChildView(r.createChildView(nq,{opacity:0,align:r.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),r.ref.processProgressIndicator=m,r.ref.activeStyles=[]},rs=function e(t){var n=t.root,r=t.actions;rl({root:n,actions:r,props:t.props});var i=r.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return ro[e.type]});if(i){n.ref.activeStyles=[];var o=ro[i.type];s(rn,function(e,t){var r=n.ref[e];s(t,function(t,i){var a=o[e]&&void 0!==o[e][t]?o[e][t]:i;n.ref.activeStyles.push({control:r,key:t,value:a})})})}n.ref.activeStyles.forEach(function(e){var t=e.control,r=e.key,i=e.value;t[r]="function"==typeof i?i(n):i})},rl=M({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function e(t){var n=t.root,r=t.action;n.ref.buttonAbortItemProcessing.label=r.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function e(t){var n=t.root,r=t.action;n.ref.buttonAbortItemLoad.label=r.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function e(t){var n=t.root,r=t.action;n.ref.buttonAbortItemRemoval.label=r.value},DID_REQUEST_ITEM_PROCESSING:function e(t){var n=t.root;n.ref.processProgressIndicator.spin=!0,n.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function e(t){var n=t.root;n.ref.loadProgressIndicator.spin=!0,n.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function e(t){var n=t.root;n.ref.processProgressIndicator.spin=!0,n.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function e(t){var n=t.root,r=t.action;n.ref.loadProgressIndicator.spin=!1,n.ref.loadProgressIndicator.progress=r.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var n=t.root,r=t.action;n.ref.processProgressIndicator.spin=!1,n.ref.processProgressIndicator.progress=r.progress}}),rc=C({create:ru,write:rs,didCreateView:function e(t){tC("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),rf=C({create:function e(t){var n=t.root,r=t.props;n.ref.fileName=nG("legend"),n.appendChild(n.ref.fileName),n.ref.file=n.appendChildView(n.createChildView(rc,{id:r.id})),n.ref.data=!1},ignoreRect:!0,write:M({DID_LOAD_ITEM:function e(t){var n=t.root,r=t.props;nU(n.ref.fileName,nN(n.query("GET_ITEM_NAME",r.id)))}}),didCreateView:function e(t){tC("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),rd={type:"spring",damping:.6,mass:7},rp=function e(t,n,r){var i=C({name:"panel-"+n.name+" filepond--"+r,mixins:n.mixins,ignoreRectUpdate:!0}),o=t.createChildView(i,n.props);t.ref[n.name]=t.appendChildView(o)},rE=C({name:"panel",read:function e(t){var n=t.root;return t.props.heightCurrent=n.ref.bottom.translateY},write:function e(t){var n=t.root,r=t.props;if((null===n.ref.scalable||r.scalable!==n.ref.scalable)&&(n.ref.scalable=!q(r.scalable)||r.scalable,n.element.dataset.scalable=n.ref.scalable),r.height){var i=n.ref.top.rect.element,o=n.ref.bottom.rect.element,a=Math.max(i.height+o.height,r.height);n.ref.center.translateY=i.height,n.ref.center.scaleY=(a-i.height-o.height)/100,n.ref.bottom.translateY=a-o.height}},create:function e(t){var n=t.root,r=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:rd},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:rd},styles:["translateY"]}},].forEach(function(e){rp(n,e,r.name)}),n.element.classList.add("filepond--"+r.name),n.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),r8=function e(t){var n=t.map(function(e){return e.id}),r=void 0;return{setIndex:function e(t){r=t},getIndex:function e(){return r},getItemIndex:function e(t){return n.indexOf(t.id)}}},rv={type:"spring",stiffness:.75,damping:.45,mass:10},rh="spring",rT={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},rI=function e(t){var n=t.root,r=t.props;if(n.ref.handleClick=function(e){return n.dispatch("DID_ACTIVATE_ITEM",{id:r.id})},n.element.id="filepond--item-"+r.id,n.element.addEventListener("click",n.ref.handleClick),n.ref.container=n.appendChildView(n.createChildView(rf,{id:r.id})),n.ref.panel=n.appendChildView(n.createChildView(rE,{name:"item-panel"})),n.ref.panel.height=null,r.markedForRemoval=!1,n.query("GET_ALLOW_REORDER")){n.element.dataset.dragState="idle";var i=function e(t){if(t.isPrimary){var i=!1,o={x:t.pageX,y:t.pageY};r.dragOrigin={x:n.translateX,y:n.translateY},r.dragCenter={x:t.offsetX,y:t.offsetY};var a=r8(n.query("GET_ACTIVE_ITEMS"));n.dispatch("DID_GRAB_ITEM",{id:r.id,dragState:a});var u=function e(t){t.isPrimary&&(t.stopPropagation(),t.preventDefault(),r.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y},r.dragOffset.x*r.dragOffset.x+r.dragOffset.y*r.dragOffset.y>16&&!i&&(i=!0,n.element.removeEventListener("click",n.ref.handleClick)),n.dispatch("DID_DRAG_ITEM",{id:r.id,dragState:a}))},s=function e(t){t.isPrimary&&(document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",e),r.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y},n.dispatch("DID_DROP_ITEM",{id:r.id,dragState:a}),i&&setTimeout(function(){return n.element.addEventListener("click",n.ref.handleClick)},0))};document.addEventListener("pointermove",u),document.addEventListener("pointerup",s)}};n.element.addEventListener("pointerdown",i)}},rm=M({DID_UPDATE_PANEL_HEIGHT:function e(t){var n=t.root,r=t.action;n.height=r.height}}),rg=M({DID_GRAB_ITEM:function e(t){var n=t.root;t.props.dragOrigin={x:n.translateX,y:n.translateY}},DID_DRAG_ITEM:function e(t){t.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function e(t){var n=t.root,r=t.props;r.dragOffset=null,r.dragOrigin=null,n.element.dataset.dragState="drop"}},function(e){var t=e.root,n=e.actions,r=e.props,i=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var o=n.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return rT[e.type]});o&&o.type!==r.currentState&&(r.currentState=o.type,t.element.dataset.filepondItemState=rT[r.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?i||(t.height=t.rect.element.width*a):(rm({root:t,actions:n,props:r}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),i&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),r$=C({create:rI,write:rg,destroy:function e(t){var n=t.root,r=t.props;n.element.removeEventListener("click",n.ref.handleClick),n.dispatch("RELEASE_ITEM",{query:r.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset",],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:rh,scaleY:rh,translateX:rv,translateY:rv,opacity:{type:"tween",duration:150}}}}),rR=function(e,t){return Math.max(1,Math.floor((e+1)/t))},ry=function e(t,n,r){if(r){var i=t.rect.element.width,o=n.length,a=null;if(0===o||r.top<n[0].rect.element.top)return -1;var u=n[0].rect.element,s=u.marginLeft+u.marginRight,l=u.width+s,c=rR(i,l);if(1===c){for(var f=0;f<o;f++){var d=n[f],p=d.rect.outer.top+.5*d.rect.element.height;if(r.top<p)return f}return o}for(var E=u.marginTop+u.marginBottom,h=u.height+E,T=0;T<o;T++){var I=Math.floor(T/c),m=T%c*l,g=I*h,$=g-u.marginTop,R=m+l,y=g+h+u.marginBottom;if(r.top<y&&r.top>$){if(r.left<R)return T;a=T!==o-1?T:null}}return null!==a?a:o}},rO={height:0,width:0,get getHeight(){return this.height},set setHeight(val){(0===this.height||0===val)&&(this.height=val)},get getWidth(){return this.width},set setWidth(val){(0===this.width||0===val)&&(this.width=val)},setDimensions:function e(t,n){(0===this.height||0===t)&&(this.height=t),(0===this.width||0===n)&&(this.width=n)}},rD=function e(t){var n=t.root;c(n.element,"role","list"),n.ref.lastItemSpanwDate=Date.now()},rS=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=n,t.translateY=r,Date.now()>t.spawnDate&&(0===t.opacity&&rP(t,n,r,i,o),t.scaleX=1,t.scaleY=1,t.opacity=1))},rP=function e(t,n,r,i,o){t.interactionMethod===es.NONE?(t.translateX=null,t.translateX=n,t.translateY=null,t.translateY=r):t.interactionMethod===es.DROP?(t.translateX=null,t.translateX=n-20*i,t.translateY=null,t.translateY=r-10*o,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===es.BROWSE?(t.translateY=null,t.translateY=r-30):t.interactionMethod===es.API&&(t.translateX=null,t.translateX=n-30,t.translateY=null)},rA=function e(t){return t.rect.element.height+.5*t.rect.element.marginBottom+.5*t.rect.element.marginTop},rL=M({DID_ADD_ITEM:function e(t){var n=t.root,r=t.action,i=r.id,o=r.index,a=r.interactionMethod;n.ref.addIndex=o;var u=Date.now(),s=u,l=1;if(a!==es.NONE){l=0;var c=n.query("GET_ITEM_INSERT_INTERVAL"),f=u-n.ref.lastItemSpanwDate;s=f<c?u+(c-f):u}n.ref.lastItemSpanwDate=s,n.appendChildView(n.createChildView(r$,{spawnDate:s,id:i,opacity:l,interactionMethod:a}),o)},DID_REMOVE_ITEM:function e(t){var n=t.root,r=t.action.id,i=n.childViews.find(function(e){return e.id===r});i&&(i.scaleX=.9,i.scaleY=.9,i.opacity=0,i.markedForRemoval=!0)},DID_DRAG_ITEM:function e(t){var n=t.root,r=t.action,i=r.id,o=r.dragState,a=n.query("GET_ITEM",{id:i}),u=n.childViews.find(function(e){return e.id===i}),s=n.childViews.length,l=o.getItemIndex(a);if(u){var c,f={x:u.dragOrigin.x+u.dragOffset.x+u.dragCenter.x,y:u.dragOrigin.y+u.dragOffset.y+u.dragCenter.y},d=rA(u),p=(c=u).rect.element.width+.5*c.rect.element.marginLeft+.5*c.rect.element.marginRight,E=Math.floor(n.rect.outer.width/p);E>s&&(E=s);var h=Math.floor(s/E+1);rO.setHeight=d*h,rO.setWidth=p*E;var T={y:Math.floor(f.y/d),x:Math.floor(f.x/p),getGridIndex:function e(){return f.y>rO.getHeight||f.y<0||f.x>rO.getWidth||f.x<0?l:this.y*E+this.x},getColIndex:function e(){for(var t=n.query("GET_ACTIVE_ITEMS"),r=n.childViews.filter(function(e){return e.rect.element.height}),i=t.map(function(e){return r.find(function(t){return t.id===e.id})}),o=i.findIndex(function(e){return e===u}),a=rA(u),s=i.length,l=s,c=0,d=0,p=0,E=0;E<s;E++)if(c=rA(i[E]),d=(p=d)+c,f.y<d){if(o>E){if(f.y<p+a){l=E;break}continue}l=E;break}return l}},I=E>1?T.getGridIndex():T.getColIndex();n.dispatch("MOVE_ITEM",{query:u,index:I});var m=o.getIndex();if(void 0===m||m!==I){if(o.setIndex(I),void 0===m)return;n.dispatch("DID_REORDER_ITEMS",{items:n.query("GET_ACTIVE_ITEMS"),origin:l,target:I})}}}}),rb=C({create:rD,write:function e(t){var n=t.root,r=t.props,i=t.actions,o=t.shouldOptimize;rL({root:n,props:r,actions:i});var a=r.dragCoordinates,u=n.rect.element.width,s=n.childViews.filter(function(e){return e.rect.element.height}),l=n.query("GET_ACTIVE_ITEMS").map(function(e){return s.find(function(t){return t.id===e.id})}).filter(function(e){return e}),c=a?ry(n,l,a):null,f=n.ref.addIndex||null;n.ref.addIndex=null;var d=0,p=0,E=0;if(0!==l.length){var h=l[0].rect.element,T=h.marginTop+h.marginBottom,I=h.marginLeft+h.marginRight,m=h.width+I,g=h.height+T,$=rR(u,m);if(1===$){var R=0,y=0;l.forEach(function(e,t){if(c){var n=t-c;y=-2===n?-(.25*T):-1===n?-(.75*T):0===n?.75*T:1===n?.25*T:0}o&&(e.translateX=null,e.translateY=null),e.markedForRemoval||rS(e,0,R+y),R+=(e.rect.element.height+T)*(e.markedForRemoval?e.opacity:1)})}else{var O=0,D=0;l.forEach(function(e,t){t===c&&(d=1),t===f&&(E+=1),e.markedForRemoval&&e.opacity<.5&&(p-=1);var n=t+E+d+p,r=n%$*m,i=Math.floor(n/$)*g,a=Math.sign(r-O),u=Math.sign(i-D);O=r,D=i,e.markedForRemoval||(o&&(e.translateX=null,e.translateY=null),rS(e,r,i,a,u))})}}},tag:"ul",name:"list",didWriteView:function e(t){var n=t.root;n.childViews.filter(function(e){return e.markedForRemoval&&0===e.opacity&&e.resting}).forEach(function(e){e._destroy(),n.removeChildView(e)})},filterFrameActionsForChild:function e(t,n){return n.filter(function(e){return!e.data||!e.data.id||t.id===e.data.id})},mixins:{apis:["dragCoordinates"]}}),r_=function e(t){var n=t.root,r=t.props;n.ref.list=n.appendChildView(n.createChildView(rb)),r.dragCoordinates=null,r.overflowing=!1},rw=M({DID_DRAG:function e(t){var n=t.root,r=t.props,i=t.action;n.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(r.dragCoordinates={left:i.position.scopeLeft-n.ref.list.rect.element.left,top:i.position.scopeTop-(n.rect.outer.top+n.rect.element.marginTop+n.rect.element.scrollTop)})},DID_END_DRAG:function e(t){t.props.dragCoordinates=null}}),rC=C({create:r_,write:function e(t){var n=t.root,r=t.props;if(rw({root:n,props:r,actions:t.actions}),n.ref.list.dragCoordinates=r.dragCoordinates,r.overflowing&&!r.overflow&&(r.overflowing=!1,n.element.dataset.state="",n.height=null),r.overflow){var i=Math.round(r.overflow);i!==n.height&&(r.overflowing=!0,n.element.dataset.state="overflow",n.height=i)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),rM=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";r?c(t,n,i):t.removeAttribute(n)},rN=function e(t){if(t&&""!==t.value){try{t.value=""}catch(n){}if(t.value){var r=nG("form"),i=t.parentNode,o=t.nextSibling;r.appendChild(t),r.reset(),o?i.insertBefore(t,o):i.appendChild(t)}}},rG=function e(t){var n=t.root,r=t.action;n.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&rM(n.element,"accept",!!r.value,r.value?r.value.join(","):"")},rU=function e(t){var n=t.root,r=t.action;rM(n.element,"multiple",r.value)},rB=function e(t){var n=t.root,r=t.action;rM(n.element,"webkitdirectory",r.value)},rx=function e(t){var n=t.root,r=n.query("GET_DISABLED"),i=n.query("GET_ALLOW_BROWSE");rM(n.element,"disabled",r||!i)},rF=function e(t){var n=t.root;t.action.value?0===n.query("GET_TOTAL_ITEMS")&&rM(n.element,"required",!0):rM(n.element,"required",!1)},rq=function e(t){var n=t.root,r=t.action;rM(n.element,"capture",!!r.value,!0===r.value?"":r.value)},rV=function e(t){var n=t.root,r=n.element;n.query("GET_TOTAL_ITEMS")>0?(rM(r,"required",!1),rM(r,"name",!1)):(rM(r,"name",!0,n.query("GET_NAME")),n.query("GET_CHECK_VALIDITY")&&r.setCustomValidity(""),n.query("GET_REQUIRED")&&rM(r,"required",!0))},rk=C({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function e(t){var n=t.root,r=t.props;n.element.id="filepond--browser-"+r.id,c(n.element,"name",n.query("GET_NAME")),c(n.element,"aria-controls","filepond--assistant-"+r.id),c(n.element,"aria-labelledby","filepond--drop-label-"+r.id),rG({root:n,action:{value:n.query("GET_ACCEPTED_FILE_TYPES")}}),rU({root:n,action:{value:n.query("GET_ALLOW_MULTIPLE")}}),rB({root:n,action:{value:n.query("GET_ALLOW_DIRECTORIES_ONLY")}}),rx({root:n}),rF({root:n,action:{value:n.query("GET_REQUIRED")}}),rq({root:n,action:{value:n.query("GET_CAPTURE_METHOD")}}),n.ref.handleChange=function(e){if(n.element.value){var t=Array.from(n.element.files).map(function(e){return e._relativePath=e.webkitRelativePath,e});setTimeout(function(){r.onload(t),rN(n.element)},250)}},n.element.addEventListener("change",n.ref.handleChange)},destroy:function e(t){var n=t.root;n.element.removeEventListener("change",n.ref.handleChange)},write:M({DID_LOAD_ITEM:rV,DID_REMOVE_ITEM:rV,DID_THROW_ITEM_INVALID:function e(t){var n=t.root;n.query("GET_CHECK_VALIDITY")&&n.element.setCustomValidity(n.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:rx,DID_SET_ALLOW_BROWSE:rx,DID_SET_ALLOW_DIRECTORIES_ONLY:rB,DID_SET_ALLOW_MULTIPLE:rU,DID_SET_ACCEPTED_FILE_TYPES:rG,DID_SET_CAPTURE_METHOD:rq,DID_SET_REQUIRED:rF})}),r0={ENTER:13,SPACE:32},rY=function e(t,n){t.innerHTML=n;var r=t.querySelector(".filepond--label-action");return r&&c(r,"tabindex","0"),n},rz=C({name:"drop-label",ignoreRect:!0,create:function e(t){var n=t.root,r=t.props,i=nG("label");c(i,"for","filepond--browser-"+r.id),c(i,"id","filepond--drop-label-"+r.id),c(i,"aria-hidden","true"),n.ref.handleKeyDown=function(e){(e.keyCode===r0.ENTER||e.keyCode===r0.SPACE)&&(e.preventDefault(),n.ref.label.click())},n.ref.handleClick=function(e){e.target===i||i.contains(e.target)||n.ref.label.click()},i.addEventListener("keydown",n.ref.handleKeyDown),n.element.addEventListener("click",n.ref.handleClick),rY(i,r.caption),n.appendChild(i),n.ref.label=i},destroy:function e(t){var n=t.root;n.ref.label.addEventListener("keydown",n.ref.handleKeyDown),n.element.removeEventListener("click",n.ref.handleClick)},write:M({DID_SET_LABEL_IDLE:function e(t){var n=t.root,r=t.action;rY(n.ref.label,r.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),r1=C({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),rH=function e(t){var n=t.root,r=.5*n.rect.element.width,i=.5*n.rect.element.height;n.ref.blob=n.appendChildView(n.createChildView(r1,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:r,translateY:i}))},rW=function e(t){var n=t.root,r=t.props,i=t.actions;rX({root:n,props:r,actions:i});var o=n.ref.blob;0===i.length&&o&&0===o.opacity&&(n.removeChildView(o),n.ref.blob=null)},rX=M({DID_DRAG:function e(t){var n=t.root,r=t.action;if(!n.ref.blob){rH({root:n});return}n.ref.blob.translateX=r.position.scopeLeft,n.ref.blob.translateY=r.position.scopeTop,n.ref.blob.scaleX=1,n.ref.blob.scaleY=1,n.ref.blob.opacity=1},DID_DROP:function e(t){var n=t.root;n.ref.blob&&(n.ref.blob.scaleX=2.5,n.ref.blob.scaleY=2.5,n.ref.blob.opacity=0)},DID_END_DRAG:function e(t){var n=t.root;n.ref.blob&&(n.ref.blob.opacity=0)}}),r3=C({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:rW}),r2=function e(t,n){try{var r=new DataTransfer;n.forEach(function(e){e instanceof File?r.items.add(e):r.items.add(new File([e],e.name,{type:e.type}))}),t.files=r.files}catch(i){return!1}return!0},r7=function e(t){return t.root.ref.fields={}},r4=function e(t,n){return t.ref.fields[n]},rQ=function e(t){t.query("GET_ACTIVE_ITEMS").forEach(function(e){t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])})},r5=function e(t){return rQ(t.root)},rj=M({DID_SET_DISABLED:function e(t){var n=t.root;n.element.disabled=n.query("GET_DISABLED")},DID_ADD_ITEM:function e(t){var n=t.root,r=t.action,i=n.query("GET_ITEM",r.id).origin!==tP.LOCAL&&n.query("SHOULD_UPDATE_FILE_INPUT"),o=nG("input");o.type=i?"file":"hidden",o.name=n.query("GET_NAME"),o.disabled=n.query("GET_DISABLED"),n.ref.fields[r.id]=o,rQ(n)},DID_LOAD_ITEM:function e(t){var n=t.root,r=t.action,i=r4(n,r.id);i&&(null!==r.serverFileReference&&(i.value=r.serverFileReference),n.query("SHOULD_UPDATE_FILE_INPUT")&&r2(i,[n.query("GET_ITEM",r.id).file]))},DID_REMOVE_ITEM:function e(t){var n=t.root,r=t.action,i=r4(n,r.id);i&&(i.parentNode&&i.parentNode.removeChild(i),delete n.ref.fields[r.id])},DID_DEFINE_VALUE:function e(t){var n=t.root,r=t.action,i=r4(n,r.id);i&&(null===r.value?i.removeAttribute("value"):i.value=r.value,rQ(n))},DID_PREPARE_OUTPUT:function e(t){var n=t.root,r=t.action;n.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var e=r4(n,r.id);e&&r2(e,[r.file])},0)},DID_REORDER_ITEMS:r5,DID_SORT_ITEMS:r5}),r6=C({tag:"fieldset",name:"data",create:r7,write:rj,ignoreRect:!0}),rZ=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],r9=["css","csv","html","txt"],rK={zip:"zip|compressed",epub:"application/epub+zip"},rJ=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(t=t.toLowerCase(),rZ.includes(t))?"image/"+("jpg"===t?"jpeg":"svg"===t?"svg+xml":t):r9.includes(t)?"text/"+t:rK[t]||""},ie=function e(t){return new Promise(function(e,n){var r=id(t);if(r.length&&!it(t))return e(r);ir(t).then(e)})},it=function e(t){return!!t.files&&t.files.length>0},ir=function e(t){return new Promise(function(e,n){var r=(t.items?Array.from(t.items):[]).filter(function(e){return ii(e)}).map(function(e){return io(e)});if(!r.length){e(t.files?Array.from(t.files):[]);return}Promise.all(r).then(function(t){var n=[];t.forEach(function(e){n.push.apply(n,e)}),e(n.filter(function(e){return e}).map(function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e}))}).catch(console.error)})},ii=function e(t){if(il(t)){var n=ic(t);if(n)return n.isFile||n.isDirectory}return"file"===t.kind},io=function e(t){return new Promise(function(e,n){if(is(t)){ia(ic(t)).then(e).catch(n);return}e([t.getAsFile()])})},ia=function e(t){return new Promise(function(e,n){var r=[],i=0,o=0,a=function t(){0===o&&0===i&&e(r)};!function e(t){i++;var u=t.createReader();!function t(){u.readEntries(function(n){if(0===n.length){i--,a();return}n.forEach(function(t){t.isDirectory?e(t):(o++,t.file(function(e){var n=iu(e);t.fullPath&&(n._relativePath=t.fullPath),r.push(n),o--,a()}))}),t()},n)}()}(t)})},iu=function e(t){if(t.type.length)return t;var n=t.lastModifiedDate,r=t.name,i=rJ(tj(t.name));return i.length&&((t=t.slice(0,t.size,i)).name=r,t.lastModifiedDate=n),t},is=function e(t){return il(t)&&(ic(t)||{}).isDirectory},il=function e(t){return"webkitGetAsEntry"in t},ic=function e(t){return t.webkitGetAsEntry()},id=function e(t){var n=[];try{if((n=iE(t)).length)return n;n=ip(t)}catch(r){}return n},ip=function e(t){var n=t.getData("url");return"string"==typeof n&&n.length?[n]:[]},iE=function e(t){var n=t.getData("text/html");if("string"==typeof n&&n.length){var r=n.match(/src\s*=\s*"(.+?)"/);if(r)return[r[1]]}return[]},i8=[],iv=function e(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},ih=function e(t,n,r){var i=iT(n),o={element:t,filterElement:r,state:null,ondrop:function e(){},onenter:function e(){},ondrag:function e(){},onexit:function e(){},onload:function e(){},allowdrop:function e(){}};return o.destroy=i.addListener(o),o},iT=function e(t){var n=i8.find(function(e){return e.element===t});if(n)return n;var r=iI(t);return i8.push(r),r},iI=function e(t){var n=[],r={dragenter:iR,dragover:iy,dragleave:iD,drop:iO},i={};s(r,function(e,r){i[e]=r(t,n),t.addEventListener(e,i[e],!1)});var o={element:t,addListener:function e(a){return n.push(a),function(){n.splice(n.indexOf(a),1),0===n.length&&(i8.splice(i8.indexOf(o),1),s(r,function(e){t.removeEventListener(e,i[e],!1)}))}}};return o},im=function e(t,n){var r,i,o,a=(i="getRootNode"in(r=n)?r.getRootNode():document,o={x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset},"elementFromPoint"in i||(i=document),i.elementFromPoint(o.x,o.y));return a===n||n.contains(a)},ig=null,i$=function e(t,n){try{t.dropEffect=n}catch(r){}},iR=function e(t,n){return function(e){e.preventDefault(),ig=e.target,n.forEach(function(t){var n=t.element,r=t.onenter;im(e,n)&&(t.state="enter",r(iv(e)))})}},iy=function e(t,n){return function(e){e.preventDefault();var t=e.dataTransfer;ie(t).then(function(r){var i=!1;n.some(function(n){var o=n.filterElement,a=n.element,u=n.onenter,s=n.onexit,l=n.ondrag,c=n.allowdrop;i$(t,"copy");var f=c(r);if(!f){i$(t,"none");return}if(im(e,a)){if(i=!0,null===n.state){n.state="enter",u(iv(e));return}if(n.state="over",o&&!f){i$(t,"none");return}l(iv(e))}else o&&!i&&i$(t,"none"),n.state&&(n.state=null,s(iv(e)))})})}},iO=function e(t,n){return function(e){e.preventDefault(),ie(e.dataTransfer).then(function(t){n.forEach(function(n){var r=n.filterElement,i=n.element,o=n.ondrop,a=n.onexit,u=n.allowdrop;if(n.state=null,!r||im(e,i)){if(!u(t))return a(iv(e));o(iv(e),t)}})})}},iD=function e(t,n){return function(e){ig===e.target&&n.forEach(function(t){var n=t.onexit;t.state=null,n(iv(e))})}},iS=function e(t,n,r){t.classList.add("filepond--hopper");var i=r.catchesDropsOnPage,o=r.requiresDropOnElement,a=r.filterItems,u=void 0===a?function(e){return e}:a,s=ih(t,i?document.documentElement:t,o),l="",c="";s.allowdrop=function(e){return n(u(e))},s.ondrop=function(e,t){var r=u(t);if(!n(r)){f.ondragend(e);return}c="drag-drop",f.onload(r,e)},s.ondrag=function(e){f.ondrag(e)},s.onenter=function(e){c="drag-over",f.ondragstart(e)},s.onexit=function(e){c="drag-exit",f.ondragend(e)};var f={updateHopperState:function e(){l!==c&&(t.dataset.hopperState=c,l=c)},onload:function e(){},ondragstart:function e(){},ondrag:function e(){},ondragend:function e(){},destroy:function e(){s.destroy()}};return f},iP=!1,iA=[],iL=function e(t){var n=document.activeElement;if(n&&/textarea|input/i.test(n.nodeName)){for(var r=!1,i=n;i!==document.body;){if(i.classList.contains("filepond--root")){r=!0;break}i=i.parentNode}if(!r)return}ie(t.clipboardData).then(function(e){e.length&&iA.forEach(function(t){return t(e)})})},ib=function e(t){if(!iA.includes(t))iA.push(t),!iP&&(iP=!0,document.addEventListener("paste",iL))},i_=function e(t){tm(iA,iA.indexOf(t)),0===iA.length&&(document.removeEventListener("paste",iL),iP=!1)},iw=function e(){var t=function e(t){n.onload(t)},n={destroy:function e(){i_(t)},onload:function e(){}};return ib(t),n},iC=null,iM=null,iN=[],iG=function e(t,n){t.element.textContent=n},iU=function e(t){t.element.textContent=""},iB=function e(t,n,r){var i=t.query("GET_TOTAL_ITEMS");iG(t,r+" "+n+", "+i+" "+(1===i?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(iM),iM=setTimeout(function(){iU(t)},1500)},ix=function e(t){return t.element.parentNode.contains(document.activeElement)},iF=function e(t){var n=t.root,r=t.action,i=n.query("GET_ITEM",r.id).filename,o=n.query("GET_LABEL_FILE_PROCESSING_ABORTED");iG(n,i+" "+o)},iq=function e(t){var n=t.root,r=t.action,i=n.query("GET_ITEM",r.id).filename;iG(n,r.status.main+" "+i+" "+r.status.sub)},iV=C({create:function e(t){var n=t.root,r=t.props;n.element.id="filepond--assistant-"+r.id,c(n.element,"role","status"),c(n.element,"aria-live","polite"),c(n.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:M({DID_LOAD_ITEM:function e(t){var n=t.root,r=t.action;if(ix(n)){n.element.textContent="";var i=n.query("GET_ITEM",r.id);iN.push(i.filename),clearTimeout(iC),iC=setTimeout(function(){iB(n,iN.join(", "),n.query("GET_LABEL_FILE_ADDED")),iN.length=0},750)}},DID_REMOVE_ITEM:function e(t){var n=t.root,r=t.action;ix(n)&&iB(n,r.item.filename,n.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var n=t.root,r=t.action,i=n.query("GET_ITEM",r.id).filename,o=n.query("GET_LABEL_FILE_PROCESSING_COMPLETE");iG(n,i+" "+o)},DID_ABORT_ITEM_PROCESSING:iF,DID_REVERT_ITEM_PROCESSING:iF,DID_THROW_ITEM_REMOVE_ERROR:iq,DID_THROW_ITEM_LOAD_ERROR:iq,DID_THROW_ITEM_INVALID:iq,DID_THROW_ITEM_PROCESSING_ERROR:iq}),tag:"span",name:"assistant"}),ik=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(RegExp(n+".","g"),function(e){return e.charAt(1).toUpperCase()})},i0=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=Date.now(),o=null;return function(){for(var e=arguments.length,a=Array(e),u=0;u<e;u++)a[u]=arguments[u];clearTimeout(o);var s=Date.now()-i,l=function e(){i=Date.now(),t.apply(void 0,a)};s<n?r||(o=setTimeout(l,n-s)):l()}},iY=function e(t){return t.preventDefault()},iz=function e(t){var n=t.root,r=t.props,i=n.query("GET_ID");i&&(n.element.id=i);var o=n.query("GET_CLASS_NAME");o&&o.split(" ").filter(function(e){return e.length}).forEach(function(e){n.element.classList.add(e)}),n.ref.label=n.appendChildView(n.createChildView(rz,Object.assign({},r,{translateY:null,caption:n.query("GET_LABEL_IDLE")}))),n.ref.list=n.appendChildView(n.createChildView(rC,{translateY:null})),n.ref.panel=n.appendChildView(n.createChildView(rE,{name:"panel-root"})),n.ref.assistant=n.appendChildView(n.createChildView(iV,Object.assign({},r))),n.ref.data=n.appendChildView(n.createChildView(r6,Object.assign({},r))),n.ref.measure=nG("div"),n.ref.measure.style.height="100%",n.element.appendChild(n.ref.measure),n.ref.bounds=null,n.query("GET_STYLES").filter(function(e){return!B(e.value)}).map(function(e){var t=e.name,r=e.value;n.element.dataset[t]=r}),n.ref.widthPrevious=null,n.ref.widthUpdated=i0(function(){n.ref.updateHistory=[],n.dispatch("DID_RESIZE_ROOT")},250),n.ref.previousAspectRatio=null,n.ref.updateHistory=[];var a=window.matchMedia("(pointer: fine) and (hover: hover)").matches,u="PointerEvent"in window;n.query("GET_ALLOW_REORDER")&&u&&!a&&(n.element.addEventListener("touchmove",iY,{passive:!1}),n.element.addEventListener("gesturestart",iY));var s=n.query("GET_CREDITS");if(2===s.length){var l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=s[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=s[1],n.element.appendChild(l),n.ref.credits=l}},i1=function e(t){var n=t.root,r=t.props,i=t.actions;if(i5({root:n,props:r,actions:i}),i.filter(function(e){return/^DID_SET_STYLE_/.test(e.type)}).filter(function(e){return!B(e.data.value)}).map(function(e){var t=e.type,r=e.data,i=ik(t.substring(8).toLowerCase(),"_");n.element.dataset[i]=r.value,n.invalidateLayout()}),!n.rect.element.hidden){n.rect.element.width!==n.ref.widthPrevious&&(n.ref.widthPrevious=n.rect.element.width,n.ref.widthUpdated());var o=n.ref.bounds;o||(o=n.ref.bounds=iX(n),n.element.removeChild(n.ref.measure),n.ref.measure=null);var a=n.ref,u=a.hopper,s=a.label,l=a.list,c=a.panel;u&&u.updateHopperState();var f=n.query("GET_PANEL_ASPECT_RATIO"),d=n.query("GET_ALLOW_MULTIPLE"),p=n.query("GET_TOTAL_ITEMS"),E=p===(d?n.query("GET_MAX_FILES")||1e6:1),h=i.find(function(e){return"DID_ADD_ITEM"===e.type});if(E&&h){var T=h.data.interactionMethod;s.opacity=0,d?s.translateY=-40:T===es.API?s.translateX=40:T===es.BROWSE?s.translateY=40:s.translateY=30}else E||(s.opacity=1,s.translateX=0,s.translateY=0);var I=iH(n),m=iW(n),g=s.rect.element.height,$=!d||E?0:g,R=E?l.rect.element.marginTop:0,y=0===p?0:l.rect.element.marginBottom,O=$+R+m.visual+y,D=$+R+m.bounds+y;if(l.translateY=Math.max(0,$-l.rect.element.marginTop)-I.top,f){var S=n.rect.element.width,P=S*f;f!==n.ref.previousAspectRatio&&(n.ref.previousAspectRatio=f,n.ref.updateHistory=[]);var A=n.ref.updateHistory;if(A.push(S),A.length>4){for(var L=A.length,b=L-10,_=0,w=L;w>=b;w--)if(A[w]===A[w-2]&&_++,_>=2)return}c.scalable=!1,c.height=P;var C=P-$-(y-I.bottom)-(E?R:0);m.visual>C?l.overflow=C:l.overflow=null,n.height=P}else if(o.fixedHeight){c.scalable=!1;var M=o.fixedHeight-$-(y-I.bottom)-(E?R:0);m.visual>M?l.overflow=M:l.overflow=null}else if(o.cappedHeight){var N=O>=o.cappedHeight,G=Math.min(o.cappedHeight,O);c.scalable=!0,c.height=N?G:G-I.top-I.bottom;var U=G-$-(y-I.bottom)-(E?R:0);O>o.cappedHeight&&m.visual>U?l.overflow=U:l.overflow=null,n.height=Math.min(o.cappedHeight,D-I.top-I.bottom)}else{var x=p>0?I.top+I.bottom:0;c.scalable=!0,c.height=Math.max(g,O-x),n.height=Math.max(g,D-x)}n.ref.credits&&c.heightCurrent&&(n.ref.credits.style.transform="translateY("+c.heightCurrent+"px)")}},iH=function e(t){var n=t.ref.list.childViews[0].childViews[0];return n?{top:n.rect.element.marginTop,bottom:n.rect.element.marginBottom}:{top:0,bottom:0}},iW=function e(t){var n=0,r=0,i=t.ref.list,o=i.childViews[0],a=o.childViews.filter(function(e){return e.rect.element.height}),u=t.query("GET_ACTIVE_ITEMS").map(function(e){return a.find(function(t){return t.id===e.id})}).filter(function(e){return e});if(0===u.length)return{visual:n,bounds:r};var s=o.rect.element.width,l=ry(o,u,i.dragCoordinates),c=u[0].rect.element,f=c.marginTop+c.marginBottom,d=c.marginLeft+c.marginRight,p=c.width+d,E=c.height+f,h=u.find(function(e){return e.markedForRemoval&&e.opacity<.45})?-1:0,T=u.length+(void 0!==l&&l>=0?1:0)+h,I=rR(s,p);return 1===I?u.forEach(function(e){var t=e.rect.element.height+f;r+=t,n+=t*e.opacity}):n=r=Math.ceil(T/I)*E,{visual:n,bounds:r}},iX=function e(t){var n,r=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:0===r?null:r}},i3=function e(t,n){var r=t.query("GET_ALLOW_REPLACE"),i=t.query("GET_ALLOW_MULTIPLE"),o=t.query("GET_TOTAL_ITEMS"),a=t.query("GET_MAX_FILES"),u=n.length;return!i&&u>1?(t.dispatch("DID_THROW_MAX_FILES",{source:n,error:nl("warning",0,"Max files")}),!0):(a=i?a:1,(!!i||!r)&&!!W(a)&&o+u>a&&(t.dispatch("DID_THROW_MAX_FILES",{source:n,error:nl("warning",0,"Max files")}),!0))},i2=function e(t,n,r){var i=t.childViews[0];return ry(i,n,{left:r.scopeLeft-i.rect.element.left,top:r.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},i7=function e(t){var n=t.query("GET_ALLOW_DROP"),r=t.query("GET_DISABLED"),i=n&&!r;if(i&&!t.ref.hopper){var o=iS(t.element,function(e){var n=t.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!t.query("GET_DROP_VALIDATION")||e.every(function(e){return tC("ALLOW_HOPPER_ITEM",e,{query:t.query}).every(function(e){return!0===e})&&n(e)})},{filterItems:function e(n){var r=t.query("GET_IGNORED_FILES");return n.filter(function(e){return!nR(e)||!r.includes(e.name.toLowerCase())})},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});o.onload=function(e,n){var r=t.ref.list.childViews[0].childViews.filter(function(e){return e.rect.element.height}),i=t.query("GET_ACTIVE_ITEMS").map(function(e){return r.find(function(t){return t.id===e.id})}).filter(function(e){return e});tw("ADD_ITEMS",e,{dispatch:t.dispatch}).then(function(e){if(i3(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:i2(t.ref.list,i,n),interactionMethod:es.DROP})}),t.dispatch("DID_DROP",{position:n}),t.dispatch("DID_END_DRAG",{position:n})},o.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})},o.ondrag=i0(function(e){t.dispatch("DID_DRAG",{position:e})}),o.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})},t.ref.hopper=o,t.ref.drip=t.appendChildView(t.createChildView(r3))}else!i&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},i4=function e(t,n){var r=t.query("GET_ALLOW_BROWSE"),i=t.query("GET_DISABLED"),o=r&&!i;o&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(rk,Object.assign({},n,{onload:function e(n){tw("ADD_ITEMS",n,{dispatch:t.dispatch}).then(function(e){if(i3(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:es.BROWSE})})}})),0):!o&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},iQ=function e(t){var n=t.query("GET_ALLOW_PASTE"),r=t.query("GET_DISABLED"),i=n&&!r;i&&!t.ref.paster?(t.ref.paster=iw(),t.ref.paster.onload=function(e){tw("ADD_ITEMS",e,{dispatch:t.dispatch}).then(function(e){if(i3(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:es.PASTE})})}):!i&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},i5=M({DID_SET_ALLOW_BROWSE:function e(t){var n;i4(t.root,t.props)},DID_SET_ALLOW_DROP:function e(t){i7(t.root)},DID_SET_ALLOW_PASTE:function e(t){iQ(t.root)},DID_SET_DISABLED:function e(t){var n=t.root,r=t.props;i7(n),iQ(n),i4(n,r),n.query("GET_DISABLED")?n.element.dataset.disabled="disabled":n.element.removeAttribute("data-disabled")}}),ij=C({name:"root",read:function e(t){var n=t.root;n.ref.measure&&(n.ref.measureHeight=n.ref.measure.offsetHeight)},create:iz,write:i1,destroy:function e(t){var n=t.root;n.ref.paster&&n.ref.paster.destroy(),n.ref.hopper&&n.ref.hopper.destroy(),n.element.removeEventListener("touchmove",iY),n.element.removeEventListener("gesturestart",iY)},mixins:{styles:["height"]}}),i6=function e(){var t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=null,u=tN(),c=a((t=u,{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:eo(t)}),[t3,(n=u,function(e){var t={};return s(n,function(n){t["GET_"+ea(n,"_").toUpperCase()]=function(t){return e.options[n]}}),t})],[nC,(r=u,function(e,t,n){var i={};return s(r,function(t){var r=ea(t,"_").toUpperCase();i["SET_"+r]=function(i){try{n.options[t]=i.value}catch(o){}e("DID_SET_"+r,{value:n.options[t]})}}),i})]);c.dispatch("SET_OPTIONS",{options:i});var f=function e(){document.hidden||c.dispatch("KICK")};document.addEventListener("visibilitychange",f);var d=null,p=!1,E=!1,h=null,T=null,I=function e(){p||(p=!0),clearTimeout(d),d=setTimeout(function(){p=!1,h=null,T=null,E&&(E=!1,c.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",I);var m=ij(c,{id:el()}),g=!1,R=!1,y=function e(t){return function(e){var n={type:t};if(!e)return n;if(e.hasOwnProperty("error")&&(n.error=e.error?Object.assign({},e.error):null),e.status&&(n.status=Object.assign({},e.status)),e.file&&(n.output=e.file),e.source)n.file=e.source;else if(e.item||e.id){var r=e.item?e.item:c.query("GET_ITEM",e.id);n.file=r?tO(r):null}return e.items&&(n.items=e.items.map(tO)),/progress/.test(t)&&(n.progress=e.progress),e.hasOwnProperty("origin")&&e.hasOwnProperty("target")&&(n.origin=e.origin,n.target=e.target),n}},O={DID_DESTROY:y("destroy"),DID_INIT:y("init"),DID_THROW_MAX_FILES:y("warning"),DID_INIT_ITEM:y("initfile"),DID_START_ITEM_LOAD:y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:y("addfileprogress"),DID_LOAD_ITEM:y("addfile"),DID_THROW_ITEM_INVALID:[y("error"),y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[y("error"),y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[y("error"),y("removefile")],DID_PREPARE_OUTPUT:y("preparefile"),DID_START_ITEM_PROCESSING:y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:y("processfiles"),DID_REVERT_ITEM_PROCESSING:y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[y("error"),y("processfile")],DID_REMOVE_ITEM:y("removefile"),DID_UPDATE_ITEMS:y("updatefiles"),DID_ACTIVATE_ITEM:y("activatefile"),DID_REORDER_ITEMS:y("reorderfiles")},D=function e(t){var n=Object.assign({pond:q},t);delete n.type,m.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:n,bubbles:!0,cancelable:!0,composed:!0}));var r=[];t.hasOwnProperty("error")&&r.push(t.error),t.hasOwnProperty("file")&&r.push(t.file);var i=["type","error","file"];Object.keys(t).filter(function(e){return!i.includes(e)}).forEach(function(e){return r.push(t[e])}),q.fire.apply(q,[t.type].concat(r));var o=c.query("GET_ON"+t.type.toUpperCase());o&&o.apply(void 0,r)},S=function e(t){t.length&&t.filter(function(e){return O[e.type]}).forEach(function(e){var t=O[e.type];(Array.isArray(t)?t:[t]).forEach(function(t){"DID_INIT_ITEM"===e.type?D(t(e.data)):setTimeout(function(){D(t(e.data))},0)})})},P=function e(t){return c.dispatch("SET_OPTIONS",{options:t})},A=function e(t){return c.query("GET_ACTIVE_ITEM",t)},L=function e(t){return new Promise(function(e,n){c.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function t(n){e(n)},failure:function e(t){n(t)}})})},b=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,r){w([{source:t,options:n}],{index:n.index}).then(function(t){return e(t&&t[0])}).catch(r)})},_=function e(t,n){var r;return"object"==typeof t&&(!(r=t).file||!r.id)&&!n&&(n=t,t=void 0),c.dispatch("REMOVE_ITEM",Object.assign({},n,{query:t})),null===c.query("GET_ACTIVE_ITEM",t)},w=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise(function(e,t){var r=[],i={};if(U(n[0]))r.push.apply(r,n[0]),Object.assign(i,n[1]||{});else{var o=n[n.length-1];"object"!=typeof o||o instanceof Blob||Object.assign(i,n.pop()),r.push.apply(r,n)}c.dispatch("ADD_ITEMS",{items:r,index:i.index,interactionMethod:es.API,success:e,failure:t})})},C=function e(){return c.query("GET_ACTIVE_ITEMS")},M=function e(t){return new Promise(function(e,n){c.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function t(n){e(n)},failure:function e(t){n(t)}})})},B=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Array.isArray(n[0])?n[0]:n;return Promise.all((i.length?i:C()).map(L))},x=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Array.isArray(n[0])?n[0]:n;return i.length?Promise.all(i.map(M)):Promise.all(C().filter(function(e){return!(e.status===tS.IDLE&&e.origin===tP.LOCAL)&&e.status!==tS.PROCESSING&&e.status!==tS.PROCESSING_COMPLETE&&e.status!==tS.PROCESSING_REVERT_ERROR}).map(M))},F=function e(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Array.isArray(r[0])?r[0]:r;"object"==typeof o[o.length-1]?t=o.pop():Array.isArray(r[0])&&(t=r[1]);var a=C();return o.length?o.map(function(e){return $(e)?a[e]?a[e].id:null:e}).filter(function(e){return e}).map(function(e){return _(e,t)}):Promise.all(a.map(function(e){return _(e,t)}))},q=Object.assign({},t$(),{},{_read:function e(){p&&(T=window.innerWidth,h||(h=T),E||T===h||(c.dispatch("DID_START_RESIZE"),E=!0)),R&&g&&(g=null===m.element.offsetParent),g||(m._read(),R=m.rect.element.hidden)},_write:function e(t){var n=c.processActionQueue().filter(function(e){return!/^SET_/.test(e.type)});(!g||n.length)&&(S(n),g=m._write(t,n,E),tD(c.query("GET_ITEMS")),g&&c.processDispatchQueue())}},{},eu(c,u),{setOptions:P,addFile:b,addFiles:w,getFile:A,processFile:M,prepareFile:L,removeFile:_,moveFile:function e(t,n){return c.dispatch("MOVE_ITEM",{query:t,index:n})},getFiles:C,processFiles:x,removeFiles:F,prepareFiles:B,sort:function e(t){return c.dispatch("SORT",{compare:t})},browse:function e(){var t=m.element.querySelector("input[type=file]");t&&t.click()},destroy:function e(){q.fire("destroy",m.element),c.dispatch("ABORT_ALL"),m._destroy(),window.removeEventListener("resize",I),document.removeEventListener("visibilitychange",f),c.dispatch("DID_DESTROY")},insertBefore:function e(t){return N(m.element,t)},insertAfter:function e(t){return G(m.element,t)},appendTo:function e(t){return t.appendChild(m.element)},replaceElement:function e(t){N(m.element,t),t.parentNode.removeChild(t),o=t},restoreElement:function e(){o&&(G(o,m.element),m.element.parentNode.removeChild(m.element),o=null)},isAttachedTo:function e(t){return m.element===t||o===t},element:{get:function e(){return m.element}},status:{get:function e(){return c.query("GET_STATUS")}}});return c.dispatch("DID_INIT"),l(q)},iZ=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return s(tN(),function(e,t){n[e]=t[0]}),i6(Object.assign({},n,{},t))},i9=function e(t){return t.charAt(0).toLowerCase()+t.slice(1)},iK=function e(t){return ik(t.replace(/^data-/,""))},iJ=function e(t,n){s(n,function(n,r){s(t,function(e,i){var o=RegExp(n);if(o.test(e)){if(delete t[e],!1!==r){if(k(r)){t[r]=i;return}var a=r.group;ee(r)&&!t[a]&&(t[a]={}),t[a][i9(e.replace(o,""))]=i}}}),r.mapping&&e(t[r.group],r.mapping)})},oe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];s(t.attributes,function(e){r.push(t.attributes[e])});var i=r.filter(function(e){return e.name}).reduce(function(e,n){var r=c(t,n.name);return e[iK(n.name)]=r===n.name||r,e},{});return iJ(i,n),i},ot=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};tC("SET_ATTRIBUTE_TO_OPTION_MAP",r);var i=Object.assign({},n),o=oe("FIELDSET"===t.nodeName?t.querySelector("input[type=file]"):t,r);Object.keys(o).forEach(function(e){ee(o[e])?(ee(i[e])||(i[e]={}),Object.assign(i[e],o[e])):i[e]=o[e]}),i.files=(n.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(function(e){return{source:e.value,options:{type:e.dataset.type}}}));var a=iZ(i);return t.files&&Array.from(t.files).forEach(function(e){a.addFile(e)}),a.replaceElement(t),a},on=function e(){var t;return(t=arguments.length<=0?void 0:arguments[0],t instanceof HTMLElement)?ot.apply(void 0,arguments):iZ.apply(void 0,arguments)},or=["fire","_read","_write"],oi=function e(t){var n={};return tR(t,n,or),n},oo=function e(t,n){return t.replace(/(?:{([a-zA-Z]+)})/g,function(e,t){return n[t]})},oa=function e(t){var n=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(n),i=new Worker(r);return{transfer:function e(t,n){},post:function e(t,n,r){var o=el();i.onmessage=function(e){e.data.id===o&&n(e.data.message)},i.postMessage({id:o,message:t},r)},terminate:function e(){i.terminate(),URL.revokeObjectURL(r)}}},ou=function e(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(e){n(e)},r.src=t})},os=function e(t,n){var r=t.slice(0,t.size,t.type);return r.lastModifiedDate=t.lastModifiedDate,r.name=n,r},ol=function e(t){return os(t,t.name)},oc=[],of=function e(t){var n;!oc.includes(t)&&(oc.push(t),n=t({addFilter:tM,utils:{Type:tb,forin:s,isString:k,isFile:nR,toNaturalFileSize:nk,replaceInString:oo,getExtensionFromFilename:tj,getFilenameWithoutExtension:ng,guesstimateMimeType:rJ,getFileFromBlob:tK,getFilenameFromURL:t5,createRoute:M,createWorker:oa,createView:C,createItemAPI:tO,loadImage:ou,copyFile:ol,renameFile:os,createBlob:tJ,applyFilterChain:tw,text:nU,getNumericAspectRatioFromString:tx},views:{fileActionButton:nV}}).options,Object.assign(tU,n))},od=(nj=h()&&"[object OperaMini]"!==Object.prototype.toString.call(window.operamini)&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return nj}),op={apps:[]},oE=function e(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=oE,e.destroy=oE,e.parse=oE,e.find=oE,e.registerPlugin=oE,e.getOptions=oE,e.setOptions=oE,od()){!function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i="__framePainter";if(window[i]){window[i].readers.push(t),window[i].writers.push(n);return}window[i]={readers:[t],writers:[n]};var o=window[i],a=1e3/r,u=null,s=null,l=null,c=null,f=function e(){document.hidden?(l=function e(){return window.setTimeout(function(){return d(performance.now())},a)},c=function e(){return window.clearTimeout(s)}):(l=function e(){return window.requestAnimationFrame(d)},c=function e(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",function(){c&&c(),f(),d(performance.now())});var d=function e(t){s=l(e),u||(u=t);var n=t-u;!(n<=a)&&(u=t-n%a,o.readers.forEach(function(e){return e()}),o.writers.forEach(function(e){return e(t)}))};return f(),d(performance.now()),{pause:function e(){c(s)}}}(function(){op.apps.forEach(function(e){return e._read()})},function(e){op.apps.forEach(function(t){return t._write(e)})});var o8=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:od,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout(function(){return o8()},0):document.addEventListener("DOMContentLoaded",o8);var ov=function t(){return s(tN(),function(t,n){e.OptionTypes[t]=n[1]})};e.Status=Object.assign({},tq),e.FileOrigin=Object.assign({},tP),e.FileStatus=Object.assign({},tS),e.OptionTypes={},ov(),e.create=function t(){var n=on.apply(void 0,arguments);return n.on("destroy",e.destroy),op.apps.push(n),oi(n)},e.destroy=function e(t){var n=op.apps.findIndex(function(e){return e.isAttachedTo(t)});return!!(n>=0)&&(op.apps.splice(n,1)[0].restoreElement(),!0)},e.parse=function t(n){return Array.from(n.querySelectorAll(".filepond")).filter(function(e){return!op.apps.find(function(t){return t.isAttachedTo(e)})}).map(function(t){return e.create(t)})},e.find=function e(t){var n=op.apps.find(function(e){return e.isAttachedTo(t)});return n?oi(n):null},e.registerPlugin=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(of),ov()},e.getOptions=function e(){var t={};return s(tN(),function(e,n){t[e]=n[0]}),t},e.setOptions=function t(n){return ee(n)&&(op.apps.forEach(function(e){e.setOptions(n)}),tG(n)),e.getOptions()}}e.supported=od,Object.defineProperty(e,"__esModule",{value:!0})});
